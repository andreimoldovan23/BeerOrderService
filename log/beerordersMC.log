2021-07-19T17:25:56,100 INFO  [main]: BeerOrderManagerImplIT               - Starting BeerOrderManagerImplIT using Java 15 on DESKTOP-QGJ7006 with PID 18828 (started by moldo in E:\Projects\JavaSpringCourse\BeerWorks\BeerOrderService) 
2021-07-19T17:25:56,110 DEBUG [main]: BeerOrderManagerImplIT               - Running with Spring Boot v2.5.2, Spring v5.3.8 
2021-07-19T17:25:56,110 INFO  [main]: BeerOrderManagerImplIT               - No active profile set, falling back to default profiles: default 
2021-07-19T17:26:00,949 WARN  [main]: GenericWebApplicationContext         - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'tastingRoomService': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'max.quantity' in value "${max.quantity}" 
2021-07-19T17:26:01,037 ERROR [main]: SpringApplication                    - Application run failed 
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'tastingRoomService': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'max.quantity' in value "${max.quantity}"
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:405) ~[spring-beans-5.3.8.jar:5.3.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1413) ~[spring-beans-5.3.8.jar:5.3.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-5.3.8.jar:5.3.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.8.jar:5.3.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.8.jar:5.3.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.8.jar:5.3.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.8.jar:5.3.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.8.jar:5.3.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.8.jar:5.3.8]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.8.jar:5.3.8]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.8.jar:5.3.8]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.2.jar:2.5.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.2.jar:2.5.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.2.jar:2.5.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:123) ~[spring-boot-test-2.5.2.jar:2.5.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.3.8.jar:5.3.8]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-5.3.8.jar:5.3.8]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124) ~[spring-test-5.3.8.jar:5.3.8]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190) ~[spring-test-5.3.8.jar:5.3.8]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132) ~[spring-test-5.3.8.jar:5.3.8]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:244) ~[spring-test-5.3.8.jar:5.3.8]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138) ~[spring-test-5.3.8.jar:5.3.8]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassBasedTestDescriptor.java:350) ~[junit-jupiter-engine-5.7.2.jar:5.7.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:355) ~[junit-jupiter-engine-5.7.2.jar:5.7.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$7(ClassBasedTestDescriptor.java:350) ~[junit-jupiter-engine-5.7.2.jar:5.7.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[?:?]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177) ~[?:?]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625) ~[?:?]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[?:?]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[?:?]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[?:?]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735) ~[?:?]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734) ~[?:?]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658) ~[?:?]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:349) ~[junit-jupiter-engine-5.7.2.jar:5.7.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$4(ClassBasedTestDescriptor.java:270) ~[junit-jupiter-engine-5.7.2.jar:5.7.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:269) ~[junit-jupiter-engine-5.7.2.jar:5.7.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$2(ClassBasedTestDescriptor.java:259) ~[junit-jupiter-engine-5.7.2.jar:5.7.2]
	at java.util.Optional.orElseGet(Optional.java:362) ~[?:?]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$3(ClassBasedTestDescriptor.java:258) ~[junit-jupiter-engine-5.7.2.jar:5.7.2]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.7.2.jar:5.7.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:101) ~[junit-jupiter-engine-5.7.2.jar:5.7.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:100) ~[junit-jupiter-engine-5.7.2.jar:5.7.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:65) ~[junit-jupiter-engine-5.7.2.jar:5.7.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$1(NodeTestTask.java:111) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:111) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:79) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at java.util.ArrayList.forEach(ArrayList.java:1511) ~[?:?]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at java.util.ArrayList.forEach(ArrayList.java:1511) ~[?:?]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108) ~[junit-platform-launcher-1.7.2.jar:1.7.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88) ~[junit-platform-launcher-1.7.2.jar:1.7.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54) ~[junit-platform-launcher-1.7.2.jar:1.7.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67) [junit-platform-launcher-1.7.2.jar:1.7.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52) [junit-platform-launcher-1.7.2.jar:1.7.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96) [junit-platform-launcher-1.7.2.jar:1.7.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75) [junit-platform-launcher-1.7.2.jar:1.7.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71) [junit5-rt.jar:?]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33) [junit-rt.jar:?]
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:220) [junit-rt.jar:?]
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:53) [junit-rt.jar:?]
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'max.quantity' in value "${max.quantity}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180) ~[spring-core-5.3.8.jar:5.3.8]
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126) ~[spring-core-5.3.8.jar:5.3.8]
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239) ~[spring-core-5.3.8.jar:5.3.8]
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210) ~[spring-core-5.3.8.jar:5.3.8]
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:175) ~[spring-context-5.3.8.jar:5.3.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:936) ~[spring-beans-5.3.8.jar:5.3.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1321) ~[spring-beans-5.3.8.jar:5.3.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.8.jar:5.3.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:657) ~[spring-beans-5.3.8.jar:5.3.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640) ~[spring-beans-5.3.8.jar:5.3.8]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.8.jar:5.3.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.8.jar:5.3.8]
	... 83 more
2021-07-19T17:26:01,053 ERROR [main]: TestContextManager                   - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@d3929ba] to prepare test instance [sfmc.beerorders.services.BeerOrderManagerImplIT@6101fd7d] 
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132) ~[spring-test-5.3.8.jar:5.3.8]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124) ~[spring-test-5.3.8.jar:5.3.8]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190) ~[spring-test-5.3.8.jar:5.3.8]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132) ~[spring-test-5.3.8.jar:5.3.8]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:244) ~[spring-test-5.3.8.jar:5.3.8]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138) ~[spring-test-5.3.8.jar:5.3.8]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassBasedTestDescriptor.java:350) ~[junit-jupiter-engine-5.7.2.jar:5.7.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:355) ~[junit-jupiter-engine-5.7.2.jar:5.7.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$7(ClassBasedTestDescriptor.java:350) ~[junit-jupiter-engine-5.7.2.jar:5.7.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[?:?]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177) ~[?:?]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625) ~[?:?]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[?:?]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[?:?]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[?:?]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735) ~[?:?]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734) ~[?:?]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658) ~[?:?]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:349) ~[junit-jupiter-engine-5.7.2.jar:5.7.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$4(ClassBasedTestDescriptor.java:270) ~[junit-jupiter-engine-5.7.2.jar:5.7.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:269) ~[junit-jupiter-engine-5.7.2.jar:5.7.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$2(ClassBasedTestDescriptor.java:259) ~[junit-jupiter-engine-5.7.2.jar:5.7.2]
	at java.util.Optional.orElseGet(Optional.java:362) ~[?:?]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$3(ClassBasedTestDescriptor.java:258) ~[junit-jupiter-engine-5.7.2.jar:5.7.2]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.7.2.jar:5.7.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:101) ~[junit-jupiter-engine-5.7.2.jar:5.7.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:100) ~[junit-jupiter-engine-5.7.2.jar:5.7.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:65) ~[junit-jupiter-engine-5.7.2.jar:5.7.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$1(NodeTestTask.java:111) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:111) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:79) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at java.util.ArrayList.forEach(ArrayList.java:1511) ~[?:?]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at java.util.ArrayList.forEach(ArrayList.java:1511) ~[?:?]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108) ~[junit-platform-launcher-1.7.2.jar:1.7.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88) ~[junit-platform-launcher-1.7.2.jar:1.7.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54) ~[junit-platform-launcher-1.7.2.jar:1.7.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67) [junit-platform-launcher-1.7.2.jar:1.7.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52) [junit-platform-launcher-1.7.2.jar:1.7.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96) [junit-platform-launcher-1.7.2.jar:1.7.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75) [junit-platform-launcher-1.7.2.jar:1.7.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71) [junit5-rt.jar:?]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33) [junit-rt.jar:?]
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:220) [junit-rt.jar:?]
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:53) [junit-rt.jar:?]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'tastingRoomService': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'max.quantity' in value "${max.quantity}"
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:405) ~[spring-beans-5.3.8.jar:5.3.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1413) ~[spring-beans-5.3.8.jar:5.3.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-5.3.8.jar:5.3.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.8.jar:5.3.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.8.jar:5.3.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.8.jar:5.3.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.8.jar:5.3.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.8.jar:5.3.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.8.jar:5.3.8]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.8.jar:5.3.8]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.8.jar:5.3.8]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.2.jar:2.5.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.2.jar:2.5.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.2.jar:2.5.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:123) ~[spring-boot-test-2.5.2.jar:2.5.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.3.8.jar:5.3.8]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-5.3.8.jar:5.3.8]
	... 67 more
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'max.quantity' in value "${max.quantity}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180) ~[spring-core-5.3.8.jar:5.3.8]
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126) ~[spring-core-5.3.8.jar:5.3.8]
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239) ~[spring-core-5.3.8.jar:5.3.8]
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210) ~[spring-core-5.3.8.jar:5.3.8]
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:175) ~[spring-context-5.3.8.jar:5.3.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:936) ~[spring-beans-5.3.8.jar:5.3.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1321) ~[spring-beans-5.3.8.jar:5.3.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.8.jar:5.3.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:657) ~[spring-beans-5.3.8.jar:5.3.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640) ~[spring-beans-5.3.8.jar:5.3.8]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.8.jar:5.3.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.8.jar:5.3.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1413) ~[spring-beans-5.3.8.jar:5.3.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-5.3.8.jar:5.3.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.8.jar:5.3.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.8.jar:5.3.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.8.jar:5.3.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.8.jar:5.3.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.8.jar:5.3.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.8.jar:5.3.8]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.8.jar:5.3.8]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.8.jar:5.3.8]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.2.jar:2.5.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.2.jar:2.5.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.2.jar:2.5.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:123) ~[spring-boot-test-2.5.2.jar:2.5.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.3.8.jar:5.3.8]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-5.3.8.jar:5.3.8]
	... 67 more
2021-07-19T17:28:21,080 INFO  [main]: BeerOrderManagerImplIT               - Starting BeerOrderManagerImplIT using Java 15 on DESKTOP-QGJ7006 with PID 2932 (started by moldo in E:\Projects\JavaSpringCourse\BeerWorks\BeerOrderService) 
2021-07-19T17:28:21,097 DEBUG [main]: BeerOrderManagerImplIT               - Running with Spring Boot v2.5.2, Spring v5.3.8 
2021-07-19T17:28:21,097 INFO  [main]: BeerOrderManagerImplIT               - No active profile set, falling back to default profiles: default 
2021-07-19T17:28:25,993 WARN  [main]: aseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning 
2021-07-19T17:28:27,100 INFO  [main]: BeerOrderManagerImplIT               - Started BeerOrderManagerImplIT in 6.196 seconds (JVM running for 7.71) 
2021-07-19T17:28:27,408 TRACE [main]: DefaultBootstrap                     - Saved customer w/ id 2fb34f4e-d791-4a55-a8fd-bbf65146a6e9 
2021-07-19T17:28:27,751 TRACE [main]: ValidateOrderAction                  - Validation - Got id from message: 37a2bdfc-22b1-4a7a-9cfc-38cba6e60b61 
2021-07-19T17:28:27,783 TRACE [main]: ValidateOrderAction                  - Validation - Got order from db: BeerOrder(super=BaseEntity(id=37a2bdfc-22b1-4a7a-9cfc-38cba6e60b61, version=0, createdDate=2021-07-19 17:28:27.72, lastModifiedDate=2021-07-19 17:28:27.72), customerRef=null, customer=Customer(super=BaseEntity(id=633d1bb1-af29-4546-bea1-92e48461a2a5, version=0, createdDate=2021-07-19 17:28:27.658, lastModifiedDate=2021-07-19 17:28:27.658), customerName=Test customer), orderStatus=NEW, orderStatusCallbackUrl=null) 
2021-07-19T17:28:27,783 TRACE [main]: BeerServiceRestTemplateImpl          - Getting beer by upc - 12345 
2021-07-19T17:28:27,986 ERROR [qtp1490433502-86]: WireMock                             - 
                                               Request was not matched
                                               =======================

-----------------------------------------------------------------------------------------------------------------------
| Closest stub                                             | Request                                                  |
-----------------------------------------------------------------------------------------------------------------------
                                                           |
GET                                                        | GET
http://localhost:8083/api/v1/beerUpc/12345                 | /api/v1/beerUpc/12345                               <<<<< URL does not match. URLs must start with a /
                                                           |
                                                           |
-----------------------------------------------------------------------------------------------------------------------
 
2021-07-19T17:28:28,033 WARN  [main]: AbstractStateMachine                 - Aborting as transition AbstractTransition [source=ObjectState [getIds()=[NEW], getClass()=class org.springframework.statemachine.state.ObjectState, hashCode()=729134973, toString()=AbstractState [id=NEW, pseudoState=org.springframework.statemachine.state.DefaultPseudoState@4552f89f, deferred=[], entryActions=[], exitActions=[], stateActions=[], regions=[], submachine=null]], target=ObjectState [getIds()=[PENDING_VALIDATION], getClass()=class org.springframework.statemachine.state.ObjectState, hashCode()=1505217516, toString()=AbstractState [id=PENDING_VALIDATION, pseudoState=null, deferred=[], entryActions=[], exitActions=[], stateActions=[], regions=[], submachine=null]], kind=EXTERNAL, guard=null] 
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: [no body]
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:113) ~[spring-web-5.3.8.jar:5.3.8]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:186) ~[spring-web-5.3.8.jar:5.3.8]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:125) ~[spring-web-5.3.8.jar:5.3.8]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.8.jar:5.3.8]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.8.jar:5.3.8]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.8.jar:5.3.8]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.8.jar:5.3.8]
	at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:334) ~[spring-web-5.3.8.jar:5.3.8]
	at sfmc.beerorders.services.beer.implementation.BeerServiceRestTemplateImpl.getBeerByUpc(BeerServiceRestTemplateImpl.java:37) ~[classes/:?]
	at sfmc.beerorders.web.mappers.BeerOrderLineDecorator.beerOrderLineToDto(BeerOrderLineDecorator.java:26) ~[classes/:?]
	at sfmc.beerorders.web.mappers.BeerOrderMapperImpl.beerOrderLineSetToBeerOrderLineDTOList(BeerOrderMapperImpl.java:97) ~[classes/:?]
	at sfmc.beerorders.web.mappers.BeerOrderMapperImpl.beerOrderToDto(BeerOrderMapperImpl.java:46) ~[classes/:?]
	at sfmc.beerorders.config.actions.ValidateOrderAction.execute(ValidateOrderAction.java:38) ~[classes/:?]
	at org.springframework.statemachine.transition.AbstractTransition.executeTransitionActions(AbstractTransition.java:170) ~[spring-statemachine-core-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.statemachine.support.AbstractStateMachine$3.transit(AbstractStateMachine.java:322) ~[spring-statemachine-core-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.statemachine.support.DefaultStateMachineExecutor.handleTriggerTrans(DefaultStateMachineExecutor.java:287) ~[spring-statemachine-core-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.statemachine.support.DefaultStateMachineExecutor.handleTriggerTrans(DefaultStateMachineExecutor.java:210) ~[spring-statemachine-core-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.statemachine.support.DefaultStateMachineExecutor.processTriggerQueue(DefaultStateMachineExecutor.java:450) ~[spring-statemachine-core-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.statemachine.support.DefaultStateMachineExecutor.access$200(DefaultStateMachineExecutor.java:64) ~[spring-statemachine-core-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.statemachine.support.DefaultStateMachineExecutor$1.run(DefaultStateMachineExecutor.java:324) ~[spring-statemachine-core-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50) ~[spring-core-5.3.8.jar:5.3.8]
	at org.springframework.statemachine.support.DefaultStateMachineExecutor.scheduleEventQueueProcessing(DefaultStateMachineExecutor.java:353) ~[spring-statemachine-core-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.statemachine.support.DefaultStateMachineExecutor.execute(DefaultStateMachineExecutor.java:162) ~[spring-statemachine-core-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.statemachine.support.AbstractStateMachine.sendEventInternal(AbstractStateMachine.java:605) ~[spring-statemachine-core-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.statemachine.support.AbstractStateMachine.sendEvent(AbstractStateMachine.java:219) ~[spring-statemachine-core-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at sfmc.beerorders.services.implementations.BeerOrderManagerServiceImpl.sendEvent(BeerOrderManagerServiceImpl.java:84) ~[classes/:?]
	at sfmc.beerorders.services.implementations.BeerOrderManagerServiceImpl.newOrder(BeerOrderManagerServiceImpl.java:34) ~[classes/:?]
	at sfmc.beerorders.services.implementations.BeerOrderManagerServiceImpl$$FastClassBySpringCGLIB$$3294b57d.invoke(<generated>) ~[classes/:?]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.3.8.jar:5.3.8]
	at sfmc.beerorders.services.implementations.BeerOrderManagerServiceImpl$$EnhancerBySpringCGLIB$$ff79ed58.newOrder(<generated>) ~[classes/:?]
	at sfmc.beerorders.services.BeerOrderManagerImplIT.testNewToAllocated(BeerOrderManagerImplIT.java:90) ~[test-classes/:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:564) ~[?:?]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688) ~[junit-platform-commons-1.7.2.jar:1.7.2]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.7.2.jar:5.7.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.7.2.jar:5.7.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149) ~[junit-jupiter-engine-5.7.2.jar:5.7.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140) ~[junit-jupiter-engine-5.7.2.jar:5.7.2]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84) ~[junit-jupiter-engine-5.7.2.jar:5.7.2]
	at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115) ~[junit-jupiter-engine-5.7.2.jar:5.7.2]
	at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105) ~[junit-jupiter-engine-5.7.2.jar:5.7.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.7.2.jar:5.7.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.7.2.jar:5.7.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.7.2.jar:5.7.2]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.7.2.jar:5.7.2]
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104) ~[junit-jupiter-engine-5.7.2.jar:5.7.2]
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98) ~[junit-jupiter-engine-5.7.2.jar:5.7.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210) ~[junit-jupiter-engine-5.7.2.jar:5.7.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206) ~[junit-jupiter-engine-5.7.2.jar:5.7.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131) ~[junit-jupiter-engine-5.7.2.jar:5.7.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65) ~[junit-jupiter-engine-5.7.2.jar:5.7.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at java.util.ArrayList.forEach(ArrayList.java:1511) ~[?:?]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at java.util.ArrayList.forEach(ArrayList.java:1511) ~[?:?]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.7.2.jar:1.7.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108) ~[junit-platform-launcher-1.7.2.jar:1.7.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88) ~[junit-platform-launcher-1.7.2.jar:1.7.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54) ~[junit-platform-launcher-1.7.2.jar:1.7.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67) [junit-platform-launcher-1.7.2.jar:1.7.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52) [junit-platform-launcher-1.7.2.jar:1.7.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96) [junit-platform-launcher-1.7.2.jar:1.7.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75) [junit-platform-launcher-1.7.2.jar:1.7.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71) [junit5-rt.jar:?]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33) [junit-rt.jar:?]
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:220) [junit-rt.jar:?]
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:53) [junit-rt.jar:?]
2021-07-19T17:28:29,104 TRACE [pool-3-thread-1]: TastingRoomService                   - Placing tasting room order... 
2021-07-19T17:28:29,135 TRACE [pool-3-thread-1]: TastingRoomService                   - Placing order for Customer(super=BaseEntity(id=2fb34f4e-d791-4a55-a8fd-bbf65146a6e9, version=0, createdDate=2021-07-19 17:28:27.392, lastModifiedDate=2021-07-19 17:28:27.392), customerName=Tasting Room) 
2021-07-19T17:28:29,135 TRACE [pool-3-thread-1]: TastingRoomService                   - UPC 0631234200036 
2021-07-19T17:28:29,135 TRACE [pool-3-thread-1]: TastingRoomService                   - Beer order line BeerOrderLineDTO(super=BaseItem(id=null, version=null, createdDate=null, lastModifiedDate=null), upc=0631234200036, beerName=null, beerId=null, beerStyle=null, price=null, orderQuantity=1, quantityAllocated=null) 
2021-07-19T17:28:29,135 TRACE [pool-3-thread-1]: TastingRoomService                   - Beer to order BeerOrderDTO(super=BaseItem(id=null, version=null, createdDate=null, lastModifiedDate=null), customerId=2fb34f4e-d791-4a55-a8fd-bbf65146a6e9, customerRef=cd998bb9-55c7-4d20-b7d2-cc220fcca216, beerOrderLines=[BeerOrderLineDTO(super=BaseItem(id=null, version=null, createdDate=null, lastModifiedDate=null), upc=0631234200036, beerName=null, beerId=null, beerStyle=null, price=null, orderQuantity=1, quantityAllocated=null)], orderStatus=null, orderStatusCallbackUrl=null) 
2021-07-19T17:28:29,151 TRACE [pool-3-thread-1]: BeerOrderServiceImpl                 - Placing order from customer 2fb34f4e-d791-4a55-a8fd-bbf65146a6e9, with value BeerOrderDTO(super=BaseItem(id=null, version=null, createdDate=null, lastModifiedDate=null), customerId=2fb34f4e-d791-4a55-a8fd-bbf65146a6e9, customerRef=cd998bb9-55c7-4d20-b7d2-cc220fcca216, beerOrderLines=[BeerOrderLineDTO(super=BaseItem(id=null, version=null, createdDate=null, lastModifiedDate=null), upc=0631234200036, beerName=null, beerId=null, beerStyle=null, price=null, orderQuantity=1, quantityAllocated=null)], orderStatus=null, orderStatusCallbackUrl=null) 
2021-07-19T17:28:29,151 TRACE [pool-3-thread-1]: BeerOrderServiceImpl                 - Saved Beer Order: a3599bc5-c141-42a1-9f15-782f73cb7de7 
2021-07-19T17:28:29,151 TRACE [pool-3-thread-1]: BeerServiceRestTemplateImpl          - Getting beer by upc - 0631234200036 
2021-07-19T17:28:29,151 ERROR [qtp1490433502-81]: WireMock                             - 
                                               Request was not matched
                                               =======================

-----------------------------------------------------------------------------------------------------------------------
| Closest stub                                             | Request                                                  |
-----------------------------------------------------------------------------------------------------------------------
                                                           |
GET                                                        | GET
http://localhost:8083/api/v1/beerUpc/12345                 | /api/v1/beerUpc/0631234200036                       <<<<< URL does not match. URLs must start with a /
                                                           |
                                                           |
-----------------------------------------------------------------------------------------------------------------------
 
2021-07-19T17:28:29,166 ERROR [pool-3-thread-1]: TaskUtils$LoggingErrorHandler        - Unexpected error occurred in scheduled task 
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: [no body]
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:113) ~[spring-web-5.3.8.jar:5.3.8]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:186) ~[spring-web-5.3.8.jar:5.3.8]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:125) ~[spring-web-5.3.8.jar:5.3.8]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.8.jar:5.3.8]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.8.jar:5.3.8]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.8.jar:5.3.8]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.8.jar:5.3.8]
	at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:334) ~[spring-web-5.3.8.jar:5.3.8]
	at sfmc.beerorders.services.beer.implementation.BeerServiceRestTemplateImpl.getBeerByUpc(BeerServiceRestTemplateImpl.java:37) ~[classes/:?]
	at sfmc.beerorders.web.mappers.BeerOrderLineDecorator.beerOrderLineToDto(BeerOrderLineDecorator.java:26) ~[classes/:?]
	at sfmc.beerorders.web.mappers.BeerOrderMapperImpl.beerOrderLineSetToBeerOrderLineDTOList(BeerOrderMapperImpl.java:97) ~[classes/:?]
	at sfmc.beerorders.web.mappers.BeerOrderMapperImpl.beerOrderToDto(BeerOrderMapperImpl.java:46) ~[classes/:?]
	at sfmc.beerorders.services.implementations.BeerOrderServiceImpl.placeOrder(BeerOrderServiceImpl.java:84) ~[classes/:?]
	at sfmc.beerorders.services.implementations.BeerOrderServiceImpl$$FastClassBySpringCGLIB$$9e0fb320.invoke(<generated>) ~[classes/:?]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692) ~[spring-aop-5.3.8.jar:5.3.8]
	at sfmc.beerorders.services.implementations.BeerOrderServiceImpl$$EnhancerBySpringCGLIB$$70390421.placeOrder(<generated>) ~[classes/:?]
	at sfmc.beerorders.services.TastingRoomService.doPlaceOrder(TastingRoomService.java:70) ~[classes/:?]
	at sfmc.beerorders.services.TastingRoomService.placeTastingRoomOrder(TastingRoomService.java:45) ~[classes/:?]
	at sfmc.beerorders.services.TastingRoomService$$FastClassBySpringCGLIB$$a8003be2.invoke(<generated>) ~[classes/:?]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692) ~[spring-aop-5.3.8.jar:5.3.8]
	at sfmc.beerorders.services.TastingRoomService$$EnhancerBySpringCGLIB$$c07d27a7.placeTastingRoomOrder(<generated>) ~[classes/:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:564) ~[?:?]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.8.jar:5.3.8]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) [spring-context-5.3.8.jar:5.3.8]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) [?:?]
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305) [?:?]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305) [?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) [?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) [?:?]
	at java.lang.Thread.run(Thread.java:832) [?:?]
2021-07-19T17:28:31,101 TRACE [pool-3-thread-1]: TastingRoomService                   - Placing tasting room order... 
2021-07-19T17:28:31,101 TRACE [pool-3-thread-1]: TastingRoomService                   - Placing order for Customer(super=BaseEntity(id=2fb34f4e-d791-4a55-a8fd-bbf65146a6e9, version=0, createdDate=2021-07-19 17:28:27.392, lastModifiedDate=2021-07-19 17:28:27.392), customerName=Tasting Room) 
2021-07-19T17:28:31,101 TRACE [pool-3-thread-1]: TastingRoomService                   - UPC 0631234200036 
2021-07-19T17:28:31,101 TRACE [pool-3-thread-1]: TastingRoomService                   - Beer order line BeerOrderLineDTO(super=BaseItem(id=null, version=null, createdDate=null, lastModifiedDate=null), upc=0631234200036, beerName=null, beerId=null, beerStyle=null, price=null, orderQuantity=1, quantityAllocated=null) 
2021-07-19T17:28:31,101 TRACE [pool-3-thread-1]: TastingRoomService                   - Beer to order BeerOrderDTO(super=BaseItem(id=null, version=null, createdDate=null, lastModifiedDate=null), customerId=2fb34f4e-d791-4a55-a8fd-bbf65146a6e9, customerRef=89757d5e-3c2f-4e60-a9de-cea67b034412, beerOrderLines=[BeerOrderLineDTO(super=BaseItem(id=null, version=null, createdDate=null, lastModifiedDate=null), upc=0631234200036, beerName=null, beerId=null, beerStyle=null, price=null, orderQuantity=1, quantityAllocated=null)], orderStatus=null, orderStatusCallbackUrl=null) 
2021-07-19T17:28:31,101 TRACE [pool-3-thread-1]: BeerOrderServiceImpl                 - Placing order from customer 2fb34f4e-d791-4a55-a8fd-bbf65146a6e9, with value BeerOrderDTO(super=BaseItem(id=null, version=null, createdDate=null, lastModifiedDate=null), customerId=2fb34f4e-d791-4a55-a8fd-bbf65146a6e9, customerRef=89757d5e-3c2f-4e60-a9de-cea67b034412, beerOrderLines=[BeerOrderLineDTO(super=BaseItem(id=null, version=null, createdDate=null, lastModifiedDate=null), upc=0631234200036, beerName=null, beerId=null, beerStyle=null, price=null, orderQuantity=1, quantityAllocated=null)], orderStatus=null, orderStatusCallbackUrl=null) 
2021-07-19T17:28:31,101 TRACE [pool-3-thread-1]: BeerOrderServiceImpl                 - Saved Beer Order: 609de034-8cbb-4d9e-8aa3-82dcbaa1e199 
2021-07-19T17:28:31,101 TRACE [pool-3-thread-1]: BeerServiceRestTemplateImpl          - Getting beer by upc - 0631234200036 
2021-07-19T17:28:31,101 ERROR [qtp1490433502-85]: WireMock                             - 
                                               Request was not matched
                                               =======================

-----------------------------------------------------------------------------------------------------------------------
| Closest stub                                             | Request                                                  |
-----------------------------------------------------------------------------------------------------------------------
                                                           |
GET                                                        | GET
http://localhost:8083/api/v1/beerUpc/12345                 | /api/v1/beerUpc/0631234200036                       <<<<< URL does not match. URLs must start with a /
                                                           |
                                                           |
-----------------------------------------------------------------------------------------------------------------------
 
2021-07-19T17:28:31,101 ERROR [pool-3-thread-1]: TaskUtils$LoggingErrorHandler        - Unexpected error occurred in scheduled task 
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: [no body]
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:113) ~[spring-web-5.3.8.jar:5.3.8]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:186) ~[spring-web-5.3.8.jar:5.3.8]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:125) ~[spring-web-5.3.8.jar:5.3.8]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.8.jar:5.3.8]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.8.jar:5.3.8]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.8.jar:5.3.8]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.8.jar:5.3.8]
	at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:334) ~[spring-web-5.3.8.jar:5.3.8]
	at sfmc.beerorders.services.beer.implementation.BeerServiceRestTemplateImpl.getBeerByUpc(BeerServiceRestTemplateImpl.java:37) ~[classes/:?]
	at sfmc.beerorders.web.mappers.BeerOrderLineDecorator.beerOrderLineToDto(BeerOrderLineDecorator.java:26) ~[classes/:?]
	at sfmc.beerorders.web.mappers.BeerOrderMapperImpl.beerOrderLineSetToBeerOrderLineDTOList(BeerOrderMapperImpl.java:97) ~[classes/:?]
	at sfmc.beerorders.web.mappers.BeerOrderMapperImpl.beerOrderToDto(BeerOrderMapperImpl.java:46) ~[classes/:?]
	at sfmc.beerorders.services.implementations.BeerOrderServiceImpl.placeOrder(BeerOrderServiceImpl.java:84) ~[classes/:?]
	at sfmc.beerorders.services.implementations.BeerOrderServiceImpl$$FastClassBySpringCGLIB$$9e0fb320.invoke(<generated>) ~[classes/:?]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692) ~[spring-aop-5.3.8.jar:5.3.8]
	at sfmc.beerorders.services.implementations.BeerOrderServiceImpl$$EnhancerBySpringCGLIB$$70390421.placeOrder(<generated>) ~[classes/:?]
	at sfmc.beerorders.services.TastingRoomService.doPlaceOrder(TastingRoomService.java:70) ~[classes/:?]
	at sfmc.beerorders.services.TastingRoomService.placeTastingRoomOrder(TastingRoomService.java:45) ~[classes/:?]
	at sfmc.beerorders.services.TastingRoomService$$FastClassBySpringCGLIB$$a8003be2.invoke(<generated>) ~[classes/:?]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692) ~[spring-aop-5.3.8.jar:5.3.8]
	at sfmc.beerorders.services.TastingRoomService$$EnhancerBySpringCGLIB$$c07d27a7.placeTastingRoomOrder(<generated>) ~[classes/:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:564) ~[?:?]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.8.jar:5.3.8]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) [spring-context-5.3.8.jar:5.3.8]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) [?:?]
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305) [?:?]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305) [?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) [?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) [?:?]
	at java.lang.Thread.run(Thread.java:832) [?:?]
2021-07-19T17:28:33,103 TRACE [pool-3-thread-1]: TastingRoomService                   - Placing tasting room order... 
2021-07-19T17:28:33,103 WARN  [pool-3-thread-1]: SqlExceptionHelper                   - SQL Error: 42102, SQLState: 42S02 
2021-07-19T17:28:33,103 ERROR [pool-3-thread-1]: SqlExceptionHelper                   - Table "CUSTOMER" not found; SQL statement:
select customer0_.id as id1_2_, customer0_.created_date as created_2_2_, customer0_.last_modified_date as last_mod3_2_, customer0_.version as version4_2_, customer0_.api_key as api_key5_2_, customer0_.customer_name as customer6_2_ from customer customer0_ where customer0_.customer_name like ? escape ? [42102-200] 
2021-07-19T17:28:33,103 ERROR [pool-3-thread-1]: TaskUtils$LoggingErrorHandler        - Unexpected error occurred in scheduled task 
org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement; SQL [select customer0_.id as id1_2_, customer0_.created_date as created_2_2_, customer0_.last_modified_date as last_mod3_2_, customer0_.version as version4_2_, customer0_.api_key as api_key5_2_, customer0_.customer_name as customer6_2_ from customer customer0_ where customer0_.customer_name like ? escape ?]; nested exception is org.hibernate.exception.SQLGrammarException: could not prepare statement
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259) ~[spring-orm-5.3.8.jar:5.3.8]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233) ~[spring-orm-5.3.8.jar:5.3.8]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.8.jar:5.3.8]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.5.2.jar:2.5.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.8.jar:5.3.8]
	at com.sun.proxy.$Proxy148.findAllByCustomerNameLike(Unknown Source) ~[?:?]
	at sfmc.beerorders.services.TastingRoomService.placeTastingRoomOrder(TastingRoomService.java:42) ~[classes/:?]
	at sfmc.beerorders.services.TastingRoomService$$FastClassBySpringCGLIB$$a8003be2.invoke(<generated>) ~[classes/:?]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692) ~[spring-aop-5.3.8.jar:5.3.8]
	at sfmc.beerorders.services.TastingRoomService$$EnhancerBySpringCGLIB$$c07d27a7.placeTastingRoomOrder(<generated>) ~[classes/:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:564) ~[?:?]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.8.jar:5.3.8]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) [spring-context-5.3.8.jar:5.3.8]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) [?:?]
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305) [?:?]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305) [?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) [?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) [?:?]
	at java.lang.Thread.run(Thread.java:832) [?:?]
Caused by: org.hibernate.exception.SQLGrammarException: could not prepare statement
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:63) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:186) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:151) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:2097) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2034) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2012) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.doQuery(Loader.java:948) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:349) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2843) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2825) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2657) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.list(Loader.java:2652) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:506) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1414) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1636) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1604) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.query.Query.getResultList(Query.java:165) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:76) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:126) ~[spring-data-jpa-2.5.2.jar:2.5.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88) ~[spring-data-jpa-2.5.2.jar:2.5.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155) ~[spring-data-jpa-2.5.2.jar:2.5.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143) ~[spring-data-jpa-2.5.2.jar:2.5.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.5.2.jar:2.5.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.5.2.jar:2.5.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159) ~[spring-data-commons-2.5.2.jar:2.5.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.5.2.jar:2.5.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.5.2.jar:2.5.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.8.jar:5.3.8]
	... 32 more
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "CUSTOMER" not found; SQL statement:
select customer0_.id as id1_2_, customer0_.created_date as created_2_2_, customer0_.last_modified_date as last_mod3_2_, customer0_.version as version4_2_, customer0_.api_key as api_key5_2_, customer0_.customer_name as customer6_2_ from customer customer0_ where customer0_.customer_name like ? escape ? [42102-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:453) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.message.DbException.get(DbException.java:205) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.message.DbException.get(DbException.java:181) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.Parser.readTableOrView(Parser.java:7628) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.Parser.readTableFilter(Parser.java:1970) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.Parser.parseSelectFromPart(Parser.java:2827) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.Parser.parseSelect(Parser.java:2959) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.Parser.parseQuerySub(Parser.java:2817) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:2649) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.Parser.parseQuery(Parser.java:2620) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.Parser.parsePrepared(Parser.java:868) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.Parser.parse(Parser.java:843) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.Parser.parse(Parser.java:815) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.Parser.prepareCommand(Parser.java:738) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.engine.Session.prepareLocal(Session.java:657) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.engine.Session.prepareCommand(Session.java:595) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1235) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:76) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:352) ~[h2-1.4.200.jar:1.4.200]
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:337) ~[HikariCP-4.0.3.jar:?]
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java) ~[HikariCP-4.0.3.jar:?]
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:149) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:176) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:151) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:2097) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2034) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2012) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.doQuery(Loader.java:948) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:349) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2843) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2825) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2657) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.list(Loader.java:2652) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:506) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1414) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1636) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1604) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.query.Query.getResultList(Query.java:165) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:76) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:126) ~[spring-data-jpa-2.5.2.jar:2.5.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88) ~[spring-data-jpa-2.5.2.jar:2.5.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155) ~[spring-data-jpa-2.5.2.jar:2.5.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143) ~[spring-data-jpa-2.5.2.jar:2.5.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.5.2.jar:2.5.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.5.2.jar:2.5.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159) ~[spring-data-commons-2.5.2.jar:2.5.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.5.2.jar:2.5.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.5.2.jar:2.5.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.8.jar:5.3.8]
	... 32 more
2021-07-19T17:29:33,885 INFO  [main]: BeerOrderManagerImplIT               - Starting BeerOrderManagerImplIT using Java 15 on DESKTOP-QGJ7006 with PID 11572 (started by moldo in E:\Projects\JavaSpringCourse\BeerWorks\BeerOrderService) 
2021-07-19T17:29:33,893 DEBUG [main]: BeerOrderManagerImplIT               - Running with Spring Boot v2.5.2, Spring v5.3.8 
2021-07-19T17:29:33,893 INFO  [main]: BeerOrderManagerImplIT               - No active profile set, falling back to default profiles: default 
2021-07-19T17:29:39,185 WARN  [main]: aseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning 
2021-07-19T17:29:40,129 INFO  [main]: BeerOrderManagerImplIT               - Started BeerOrderManagerImplIT in 6.439 seconds (JVM running for 8.014) 
2021-07-19T17:29:40,353 TRACE [main]: DefaultBootstrap                     - Saved customer w/ id 39635137-d392-4851-9c8d-e62776684aee 
2021-07-19T17:29:40,725 TRACE [main]: ValidateOrderAction                  - Validation - Got id from message: d7408460-e693-4a51-ae3f-1f6872c9805e 
2021-07-19T17:29:40,740 TRACE [main]: ValidateOrderAction                  - Validation - Got order from db: BeerOrder(super=BaseEntity(id=d7408460-e693-4a51-ae3f-1f6872c9805e, version=0, createdDate=2021-07-19 17:29:40.678, lastModifiedDate=2021-07-19 17:29:40.678), customerRef=null, customer=Customer(super=BaseEntity(id=2eea6d33-31ac-4da3-8f63-3e931d2ae12b, version=0, createdDate=2021-07-19 17:29:40.631, lastModifiedDate=2021-07-19 17:29:40.631), customerName=Test customer), orderStatus=NEW, orderStatusCallbackUrl=null) 
2021-07-19T17:29:40,740 TRACE [main]: BeerServiceRestTemplateImpl          - Getting beer by upc - 12345 
2021-07-19T17:29:40,990 TRACE [main]: BeerOrderStateChangeInterceptor      - saving state for order d7408460-e693-4a51-ae3f-1f6872c9805e: PENDING_VALIDATION 
2021-07-19T17:29:41,006 TRACE [main]: StateMachineConfig                   - state changed from NEW to PENDING_VALIDATION 
2021-07-19T17:29:40,990 TRACE [org.springframework.jms.JmsListenerEndpointContainer#0-1]: OrderValidationListener              - Got event: ValidateOrderEvent(beerOrderDTO=BeerOrderDTO(super=BaseItem(id=d7408460-e693-4a51-ae3f-1f6872c9805e, version=0, createdDate=2021-07-19T17:29:40Z, lastModifiedDate=2021-07-19T17:29:40Z), customerId=2eea6d33-31ac-4da3-8f63-3e931d2ae12b, customerRef=null, beerOrderLines=[BeerOrderLineDTO(super=BaseItem(id=3832e4a0-619f-45a2-a8ba-05c11cd20814, version=0, createdDate=2021-07-19T17:29:40Z, lastModifiedDate=2021-07-19T17:29:40Z), upc=12345, beerName=ALE, beerId=ccf4df8a-ea2e-4b2c-b9d7-b02d0c81a5b0, beerStyle=ALE, price=14.45, orderQuantity=1, quantityAllocated=0)], orderStatus=NEW, orderStatusCallbackUrl=null)) 
2021-07-19T17:29:41,022 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: ValidationResultListener             - Got result true for order d7408460-e693-4a51-ae3f-1f6872c9805e 
2021-07-19T17:29:41,022 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: BeerOrderStateChangeInterceptor      - saving state for order d7408460-e693-4a51-ae3f-1f6872c9805e: VALIDATED 
2021-07-19T17:29:41,022 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: StateMachineConfig                   - state changed from PENDING_VALIDATION to VALIDATED 
2021-07-19T17:29:41,022 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: AllocateOrderAction                  - Allocation - Got id from message: d7408460-e693-4a51-ae3f-1f6872c9805e 
2021-07-19T17:29:41,022 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: AllocateOrderAction                  - Allocation - Got order from db: BeerOrder(super=BaseEntity(id=d7408460-e693-4a51-ae3f-1f6872c9805e, version=2, createdDate=2021-07-19 17:29:40.678, lastModifiedDate=2021-07-19 17:29:41.022), customerRef=null, customer=Customer(super=BaseEntity(id=2eea6d33-31ac-4da3-8f63-3e931d2ae12b, version=0, createdDate=2021-07-19 17:29:40.631, lastModifiedDate=2021-07-19 17:29:40.631), customerName=Test customer), orderStatus=VALIDATED, orderStatusCallbackUrl=null) 
2021-07-19T17:29:41,032 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: BeerServiceRestTemplateImpl          - Getting beer by upc - 12345 
2021-07-19T17:29:41,032 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: BeerOrderStateChangeInterceptor      - saving state for order d7408460-e693-4a51-ae3f-1f6872c9805e: PENDING_ALLOCATION 
2021-07-19T17:29:41,047 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: StateMachineConfig                   - state changed from VALIDATED to PENDING_ALLOCATION 
2021-07-19T17:29:42,125 TRACE [pool-3-thread-1]: TastingRoomService                   - Placing tasting room order... 
2021-07-19T17:29:42,140 TRACE [pool-3-thread-1]: TastingRoomService                   - Placing order for Customer(super=BaseEntity(id=39635137-d392-4851-9c8d-e62776684aee, version=0, createdDate=2021-07-19 17:29:40.322, lastModifiedDate=2021-07-19 17:29:40.322), customerName=Tasting Room) 
2021-07-19T17:29:42,140 TRACE [pool-3-thread-1]: TastingRoomService                   - UPC 0631234300019 
2021-07-19T17:29:42,140 TRACE [pool-3-thread-1]: TastingRoomService                   - Beer order line BeerOrderLineDTO(super=BaseItem(id=null, version=null, createdDate=null, lastModifiedDate=null), upc=0631234300019, beerName=null, beerId=null, beerStyle=null, price=null, orderQuantity=1, quantityAllocated=null) 
2021-07-19T17:29:42,140 TRACE [pool-3-thread-1]: TastingRoomService                   - Beer to order BeerOrderDTO(super=BaseItem(id=null, version=null, createdDate=null, lastModifiedDate=null), customerId=39635137-d392-4851-9c8d-e62776684aee, customerRef=23dc5bf6-fca9-4f1d-8342-746b3b0e632d, beerOrderLines=[BeerOrderLineDTO(super=BaseItem(id=null, version=null, createdDate=null, lastModifiedDate=null), upc=0631234300019, beerName=null, beerId=null, beerStyle=null, price=null, orderQuantity=1, quantityAllocated=null)], orderStatus=null, orderStatusCallbackUrl=null) 
2021-07-19T17:29:42,155 TRACE [pool-3-thread-1]: BeerOrderServiceImpl                 - Placing order from customer 39635137-d392-4851-9c8d-e62776684aee, with value BeerOrderDTO(super=BaseItem(id=null, version=null, createdDate=null, lastModifiedDate=null), customerId=39635137-d392-4851-9c8d-e62776684aee, customerRef=23dc5bf6-fca9-4f1d-8342-746b3b0e632d, beerOrderLines=[BeerOrderLineDTO(super=BaseItem(id=null, version=null, createdDate=null, lastModifiedDate=null), upc=0631234300019, beerName=null, beerId=null, beerStyle=null, price=null, orderQuantity=1, quantityAllocated=null)], orderStatus=null, orderStatusCallbackUrl=null) 
2021-07-19T17:29:42,155 TRACE [pool-3-thread-1]: BeerOrderServiceImpl                 - Saved Beer Order: ec4d3c3f-69cc-40a2-8d72-e2982f4383a1 
2021-07-19T17:29:42,155 TRACE [pool-3-thread-1]: BeerServiceRestTemplateImpl          - Getting beer by upc - 0631234300019 
2021-07-19T17:29:42,155 ERROR [qtp757791711-85]: WireMock                             - 
                                               Request was not matched
                                               =======================

-----------------------------------------------------------------------------------------------------------------------
| Closest stub                                             | Request                                                  |
-----------------------------------------------------------------------------------------------------------------------
                                                           |
GET                                                        | GET
/api/v1/beerUpc/12345                                      | /api/v1/beerUpc/0631234300019                       <<<<< URL does not match
                                                           |
                                                           |
-----------------------------------------------------------------------------------------------------------------------
 
2021-07-19T17:29:42,171 ERROR [pool-3-thread-1]: TaskUtils$LoggingErrorHandler        - Unexpected error occurred in scheduled task 
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: [no body]
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:113) ~[spring-web-5.3.8.jar:5.3.8]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:186) ~[spring-web-5.3.8.jar:5.3.8]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:125) ~[spring-web-5.3.8.jar:5.3.8]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.8.jar:5.3.8]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.8.jar:5.3.8]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.8.jar:5.3.8]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.8.jar:5.3.8]
	at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:334) ~[spring-web-5.3.8.jar:5.3.8]
	at sfmc.beerorders.services.beer.implementation.BeerServiceRestTemplateImpl.getBeerByUpc(BeerServiceRestTemplateImpl.java:37) ~[classes/:?]
	at sfmc.beerorders.web.mappers.BeerOrderLineDecorator.beerOrderLineToDto(BeerOrderLineDecorator.java:26) ~[classes/:?]
	at sfmc.beerorders.web.mappers.BeerOrderMapperImpl.beerOrderLineSetToBeerOrderLineDTOList(BeerOrderMapperImpl.java:97) ~[classes/:?]
	at sfmc.beerorders.web.mappers.BeerOrderMapperImpl.beerOrderToDto(BeerOrderMapperImpl.java:46) ~[classes/:?]
	at sfmc.beerorders.services.implementations.BeerOrderServiceImpl.placeOrder(BeerOrderServiceImpl.java:84) ~[classes/:?]
	at sfmc.beerorders.services.implementations.BeerOrderServiceImpl$$FastClassBySpringCGLIB$$9e0fb320.invoke(<generated>) ~[classes/:?]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692) ~[spring-aop-5.3.8.jar:5.3.8]
	at sfmc.beerorders.services.implementations.BeerOrderServiceImpl$$EnhancerBySpringCGLIB$$cc87022e.placeOrder(<generated>) ~[classes/:?]
	at sfmc.beerorders.services.TastingRoomService.doPlaceOrder(TastingRoomService.java:70) ~[classes/:?]
	at sfmc.beerorders.services.TastingRoomService.placeTastingRoomOrder(TastingRoomService.java:45) ~[classes/:?]
	at sfmc.beerorders.services.TastingRoomService$$FastClassBySpringCGLIB$$a8003be2.invoke(<generated>) ~[classes/:?]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692) ~[spring-aop-5.3.8.jar:5.3.8]
	at sfmc.beerorders.services.TastingRoomService$$EnhancerBySpringCGLIB$$1ccb25b4.placeTastingRoomOrder(<generated>) ~[classes/:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:564) ~[?:?]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.8.jar:5.3.8]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) [spring-context-5.3.8.jar:5.3.8]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) [?:?]
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305) [?:?]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305) [?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) [?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) [?:?]
	at java.lang.Thread.run(Thread.java:832) [?:?]
2021-07-19T17:29:44,137 TRACE [pool-3-thread-1]: TastingRoomService                   - Placing tasting room order... 
2021-07-19T17:29:44,137 TRACE [pool-3-thread-1]: TastingRoomService                   - Placing order for Customer(super=BaseEntity(id=39635137-d392-4851-9c8d-e62776684aee, version=0, createdDate=2021-07-19 17:29:40.322, lastModifiedDate=2021-07-19 17:29:40.322), customerName=Tasting Room) 
2021-07-19T17:29:44,137 TRACE [pool-3-thread-1]: TastingRoomService                   - UPC 0631234300019 
2021-07-19T17:29:44,137 TRACE [pool-3-thread-1]: TastingRoomService                   - Beer order line BeerOrderLineDTO(super=BaseItem(id=null, version=null, createdDate=null, lastModifiedDate=null), upc=0631234300019, beerName=null, beerId=null, beerStyle=null, price=null, orderQuantity=1, quantityAllocated=null) 
2021-07-19T17:29:44,137 TRACE [pool-3-thread-1]: TastingRoomService                   - Beer to order BeerOrderDTO(super=BaseItem(id=null, version=null, createdDate=null, lastModifiedDate=null), customerId=39635137-d392-4851-9c8d-e62776684aee, customerRef=3176635d-9ce3-40c5-9cf7-f96fd6152406, beerOrderLines=[BeerOrderLineDTO(super=BaseItem(id=null, version=null, createdDate=null, lastModifiedDate=null), upc=0631234300019, beerName=null, beerId=null, beerStyle=null, price=null, orderQuantity=1, quantityAllocated=null)], orderStatus=null, orderStatusCallbackUrl=null) 
2021-07-19T17:29:44,137 TRACE [pool-3-thread-1]: BeerOrderServiceImpl                 - Placing order from customer 39635137-d392-4851-9c8d-e62776684aee, with value BeerOrderDTO(super=BaseItem(id=null, version=null, createdDate=null, lastModifiedDate=null), customerId=39635137-d392-4851-9c8d-e62776684aee, customerRef=3176635d-9ce3-40c5-9cf7-f96fd6152406, beerOrderLines=[BeerOrderLineDTO(super=BaseItem(id=null, version=null, createdDate=null, lastModifiedDate=null), upc=0631234300019, beerName=null, beerId=null, beerStyle=null, price=null, orderQuantity=1, quantityAllocated=null)], orderStatus=null, orderStatusCallbackUrl=null) 
2021-07-19T17:29:44,137 TRACE [pool-3-thread-1]: BeerOrderServiceImpl                 - Saved Beer Order: eb9e4ee9-ac7b-4eb1-9ca5-eeca131f9186 
2021-07-19T17:29:44,137 TRACE [pool-3-thread-1]: BeerServiceRestTemplateImpl          - Getting beer by upc - 0631234300019 
2021-07-19T17:29:44,137 ERROR [qtp757791711-87]: WireMock                             - 
                                               Request was not matched
                                               =======================

-----------------------------------------------------------------------------------------------------------------------
| Closest stub                                             | Request                                                  |
-----------------------------------------------------------------------------------------------------------------------
                                                           |
GET                                                        | GET
/api/v1/beerUpc/12345                                      | /api/v1/beerUpc/0631234300019                       <<<<< URL does not match
                                                           |
                                                           |
-----------------------------------------------------------------------------------------------------------------------
 
2021-07-19T17:29:44,137 ERROR [pool-3-thread-1]: TaskUtils$LoggingErrorHandler        - Unexpected error occurred in scheduled task 
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: [no body]
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:113) ~[spring-web-5.3.8.jar:5.3.8]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:186) ~[spring-web-5.3.8.jar:5.3.8]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:125) ~[spring-web-5.3.8.jar:5.3.8]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.8.jar:5.3.8]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.8.jar:5.3.8]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.8.jar:5.3.8]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.8.jar:5.3.8]
	at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:334) ~[spring-web-5.3.8.jar:5.3.8]
	at sfmc.beerorders.services.beer.implementation.BeerServiceRestTemplateImpl.getBeerByUpc(BeerServiceRestTemplateImpl.java:37) ~[classes/:?]
	at sfmc.beerorders.web.mappers.BeerOrderLineDecorator.beerOrderLineToDto(BeerOrderLineDecorator.java:26) ~[classes/:?]
	at sfmc.beerorders.web.mappers.BeerOrderMapperImpl.beerOrderLineSetToBeerOrderLineDTOList(BeerOrderMapperImpl.java:97) ~[classes/:?]
	at sfmc.beerorders.web.mappers.BeerOrderMapperImpl.beerOrderToDto(BeerOrderMapperImpl.java:46) ~[classes/:?]
	at sfmc.beerorders.services.implementations.BeerOrderServiceImpl.placeOrder(BeerOrderServiceImpl.java:84) ~[classes/:?]
	at sfmc.beerorders.services.implementations.BeerOrderServiceImpl$$FastClassBySpringCGLIB$$9e0fb320.invoke(<generated>) ~[classes/:?]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692) ~[spring-aop-5.3.8.jar:5.3.8]
	at sfmc.beerorders.services.implementations.BeerOrderServiceImpl$$EnhancerBySpringCGLIB$$cc87022e.placeOrder(<generated>) ~[classes/:?]
	at sfmc.beerorders.services.TastingRoomService.doPlaceOrder(TastingRoomService.java:70) ~[classes/:?]
	at sfmc.beerorders.services.TastingRoomService.placeTastingRoomOrder(TastingRoomService.java:45) ~[classes/:?]
	at sfmc.beerorders.services.TastingRoomService$$FastClassBySpringCGLIB$$a8003be2.invoke(<generated>) ~[classes/:?]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692) ~[spring-aop-5.3.8.jar:5.3.8]
	at sfmc.beerorders.services.TastingRoomService$$EnhancerBySpringCGLIB$$1ccb25b4.placeTastingRoomOrder(<generated>) ~[classes/:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:564) ~[?:?]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.8.jar:5.3.8]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) [spring-context-5.3.8.jar:5.3.8]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) [?:?]
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305) [?:?]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305) [?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) [?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) [?:?]
	at java.lang.Thread.run(Thread.java:832) [?:?]
2021-07-19T17:29:46,137 TRACE [pool-3-thread-1]: TastingRoomService                   - Placing tasting room order... 
2021-07-19T17:29:46,137 WARN  [pool-3-thread-1]: SqlExceptionHelper                   - SQL Error: 42102, SQLState: 42S02 
2021-07-19T17:29:46,137 ERROR [pool-3-thread-1]: SqlExceptionHelper                   - Table "CUSTOMER" not found; SQL statement:
select customer0_.id as id1_2_, customer0_.created_date as created_2_2_, customer0_.last_modified_date as last_mod3_2_, customer0_.version as version4_2_, customer0_.api_key as api_key5_2_, customer0_.customer_name as customer6_2_ from customer customer0_ where customer0_.customer_name like ? escape ? [42102-200] 
2021-07-19T17:29:46,137 ERROR [pool-3-thread-1]: TaskUtils$LoggingErrorHandler        - Unexpected error occurred in scheduled task 
org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement; SQL [select customer0_.id as id1_2_, customer0_.created_date as created_2_2_, customer0_.last_modified_date as last_mod3_2_, customer0_.version as version4_2_, customer0_.api_key as api_key5_2_, customer0_.customer_name as customer6_2_ from customer customer0_ where customer0_.customer_name like ? escape ?]; nested exception is org.hibernate.exception.SQLGrammarException: could not prepare statement
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259) ~[spring-orm-5.3.8.jar:5.3.8]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233) ~[spring-orm-5.3.8.jar:5.3.8]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.8.jar:5.3.8]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.5.2.jar:2.5.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.8.jar:5.3.8]
	at com.sun.proxy.$Proxy148.findAllByCustomerNameLike(Unknown Source) ~[?:?]
	at sfmc.beerorders.services.TastingRoomService.placeTastingRoomOrder(TastingRoomService.java:42) ~[classes/:?]
	at sfmc.beerorders.services.TastingRoomService$$FastClassBySpringCGLIB$$a8003be2.invoke(<generated>) ~[classes/:?]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692) ~[spring-aop-5.3.8.jar:5.3.8]
	at sfmc.beerorders.services.TastingRoomService$$EnhancerBySpringCGLIB$$1ccb25b4.placeTastingRoomOrder(<generated>) ~[classes/:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:564) ~[?:?]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.8.jar:5.3.8]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) [spring-context-5.3.8.jar:5.3.8]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) [?:?]
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305) [?:?]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305) [?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) [?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) [?:?]
	at java.lang.Thread.run(Thread.java:832) [?:?]
Caused by: org.hibernate.exception.SQLGrammarException: could not prepare statement
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:63) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:186) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:151) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:2097) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2034) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2012) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.doQuery(Loader.java:948) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:349) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2843) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2825) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2657) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.list(Loader.java:2652) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:506) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1414) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1636) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1604) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.query.Query.getResultList(Query.java:165) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:76) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:126) ~[spring-data-jpa-2.5.2.jar:2.5.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88) ~[spring-data-jpa-2.5.2.jar:2.5.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155) ~[spring-data-jpa-2.5.2.jar:2.5.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143) ~[spring-data-jpa-2.5.2.jar:2.5.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.5.2.jar:2.5.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.5.2.jar:2.5.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159) ~[spring-data-commons-2.5.2.jar:2.5.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.5.2.jar:2.5.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.5.2.jar:2.5.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.8.jar:5.3.8]
	... 32 more
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "CUSTOMER" not found; SQL statement:
select customer0_.id as id1_2_, customer0_.created_date as created_2_2_, customer0_.last_modified_date as last_mod3_2_, customer0_.version as version4_2_, customer0_.api_key as api_key5_2_, customer0_.customer_name as customer6_2_ from customer customer0_ where customer0_.customer_name like ? escape ? [42102-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:453) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.message.DbException.get(DbException.java:205) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.message.DbException.get(DbException.java:181) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.Parser.readTableOrView(Parser.java:7628) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.Parser.readTableFilter(Parser.java:1970) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.Parser.parseSelectFromPart(Parser.java:2827) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.Parser.parseSelect(Parser.java:2959) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.Parser.parseQuerySub(Parser.java:2817) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:2649) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.Parser.parseQuery(Parser.java:2620) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.Parser.parsePrepared(Parser.java:868) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.Parser.parse(Parser.java:843) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.Parser.parse(Parser.java:815) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.Parser.prepareCommand(Parser.java:738) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.engine.Session.prepareLocal(Session.java:657) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.engine.Session.prepareCommand(Session.java:595) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1235) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:76) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:352) ~[h2-1.4.200.jar:1.4.200]
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:337) ~[HikariCP-4.0.3.jar:?]
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java) ~[HikariCP-4.0.3.jar:?]
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:149) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:176) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:151) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:2097) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2034) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2012) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.doQuery(Loader.java:948) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:349) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2843) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2825) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2657) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.list(Loader.java:2652) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:506) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1414) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1636) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1604) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.query.Query.getResultList(Query.java:165) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:76) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:126) ~[spring-data-jpa-2.5.2.jar:2.5.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88) ~[spring-data-jpa-2.5.2.jar:2.5.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155) ~[spring-data-jpa-2.5.2.jar:2.5.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143) ~[spring-data-jpa-2.5.2.jar:2.5.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.5.2.jar:2.5.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.5.2.jar:2.5.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159) ~[spring-data-commons-2.5.2.jar:2.5.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.5.2.jar:2.5.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.5.2.jar:2.5.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.8.jar:5.3.8]
	... 32 more
2021-07-19T17:32:18,520 INFO  [main]: BeerOrderManagerImplIT               - Starting BeerOrderManagerImplIT using Java 15 on DESKTOP-QGJ7006 with PID 17524 (started by moldo in E:\Projects\JavaSpringCourse\BeerWorks\BeerOrderService) 
2021-07-19T17:32:18,531 DEBUG [main]: BeerOrderManagerImplIT               - Running with Spring Boot v2.5.2, Spring v5.3.8 
2021-07-19T17:32:18,531 INFO  [main]: BeerOrderManagerImplIT               - No active profile set, falling back to default profiles: default 
2021-07-19T17:32:23,189 WARN  [main]: aseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning 
2021-07-19T17:32:24,122 INFO  [main]: BeerOrderManagerImplIT               - Started BeerOrderManagerImplIT in 5.784 seconds (JVM running for 7.25) 
2021-07-19T17:32:24,333 TRACE [main]: DefaultBootstrap                     - Saved customer w/ id e89ec557-2b10-4132-acb0-24679b950ec0 
2021-07-19T17:32:24,693 TRACE [main]: ValidateOrderAction                  - Validation - Got id from message: 589a5666-a994-486c-a6c7-b823e5b8928e 
2021-07-19T17:32:24,724 TRACE [main]: ValidateOrderAction                  - Validation - Got order from db: BeerOrder(super=BaseEntity(id=589a5666-a994-486c-a6c7-b823e5b8928e, version=0, createdDate=2021-07-19 17:32:24.646, lastModifiedDate=2021-07-19 17:32:24.646), customerRef=null, customer=Customer(super=BaseEntity(id=4f4cb6e1-e4bc-456c-94d5-c78b3f6cc584, version=0, createdDate=2021-07-19 17:32:24.583, lastModifiedDate=2021-07-19 17:32:24.583), customerName=Test customer), orderStatus=NEW, orderStatusCallbackUrl=null) 
2021-07-19T17:32:24,724 TRACE [main]: BeerServiceRestTemplateImpl          - Getting beer by upc - 12345 
2021-07-19T17:32:25,012 TRACE [main]: BeerOrderStateChangeInterceptor      - saving state for order 589a5666-a994-486c-a6c7-b823e5b8928e: PENDING_VALIDATION 
2021-07-19T17:32:25,028 TRACE [main]: StateMachineConfig                   - state changed from NEW to PENDING_VALIDATION 
2021-07-19T17:32:25,012 TRACE [org.springframework.jms.JmsListenerEndpointContainer#0-1]: OrderValidationListener              - Got event: ValidateOrderEvent(beerOrderDTO=BeerOrderDTO(super=BaseItem(id=589a5666-a994-486c-a6c7-b823e5b8928e, version=0, createdDate=2021-07-19T17:32:24Z, lastModifiedDate=2021-07-19T17:32:24Z), customerId=4f4cb6e1-e4bc-456c-94d5-c78b3f6cc584, customerRef=null, beerOrderLines=[BeerOrderLineDTO(super=BaseItem(id=afd27c61-5ffa-4064-912d-23c5fb3285ae, version=0, createdDate=2021-07-19T17:32:24Z, lastModifiedDate=2021-07-19T17:32:24Z), upc=12345, beerName=ALE, beerId=52c43309-b872-4b17-9271-fe50008c20a5, beerStyle=ALE, price=14.45, orderQuantity=1, quantityAllocated=0)], orderStatus=NEW, orderStatusCallbackUrl=null)) 
2021-07-19T17:32:25,059 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: ValidationResultListener             - Got result true for order 589a5666-a994-486c-a6c7-b823e5b8928e 
2021-07-19T17:32:25,065 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: BeerOrderStateChangeInterceptor      - saving state for order 589a5666-a994-486c-a6c7-b823e5b8928e: VALIDATED 
2021-07-19T17:32:25,069 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: StateMachineConfig                   - state changed from PENDING_VALIDATION to VALIDATED 
2021-07-19T17:32:25,069 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: AllocateOrderAction                  - Allocation - Got id from message: 589a5666-a994-486c-a6c7-b823e5b8928e 
2021-07-19T17:32:25,069 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: AllocateOrderAction                  - Allocation - Got order from db: BeerOrder(super=BaseEntity(id=589a5666-a994-486c-a6c7-b823e5b8928e, version=2, createdDate=2021-07-19 17:32:24.646, lastModifiedDate=2021-07-19 17:32:25.069), customerRef=null, customer=Customer(super=BaseEntity(id=4f4cb6e1-e4bc-456c-94d5-c78b3f6cc584, version=0, createdDate=2021-07-19 17:32:24.583, lastModifiedDate=2021-07-19 17:32:24.583), customerName=Test customer), orderStatus=VALIDATED, orderStatusCallbackUrl=null) 
2021-07-19T17:32:25,069 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: BeerServiceRestTemplateImpl          - Getting beer by upc - 12345 
2021-07-19T17:32:25,084 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: BeerOrderStateChangeInterceptor      - saving state for order 589a5666-a994-486c-a6c7-b823e5b8928e: PENDING_ALLOCATION 
2021-07-19T17:32:25,084 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: StateMachineConfig                   - state changed from VALIDATED to PENDING_ALLOCATION 
2021-07-19T17:32:26,120 TRACE [pool-3-thread-1]: TastingRoomService                   - Placing tasting room order... 
2021-07-19T17:32:26,136 TRACE [pool-3-thread-1]: TastingRoomService                   - Placing order for Customer(super=BaseEntity(id=e89ec557-2b10-4132-acb0-24679b950ec0, version=0, createdDate=2021-07-19 17:32:24.318, lastModifiedDate=2021-07-19 17:32:24.318), customerName=Tasting Room) 
2021-07-19T17:32:26,136 TRACE [pool-3-thread-1]: TastingRoomService                   - UPC 0083783375213 
2021-07-19T17:32:26,136 TRACE [pool-3-thread-1]: TastingRoomService                   - Beer order line BeerOrderLineDTO(super=BaseItem(id=null, version=null, createdDate=null, lastModifiedDate=null), upc=0083783375213, beerName=null, beerId=null, beerStyle=null, price=null, orderQuantity=3, quantityAllocated=null) 
2021-07-19T17:32:26,136 TRACE [pool-3-thread-1]: TastingRoomService                   - Beer to order BeerOrderDTO(super=BaseItem(id=null, version=null, createdDate=null, lastModifiedDate=null), customerId=e89ec557-2b10-4132-acb0-24679b950ec0, customerRef=389baf6c-910f-4bde-9a9f-35dc3a33370a, beerOrderLines=[BeerOrderLineDTO(super=BaseItem(id=null, version=null, createdDate=null, lastModifiedDate=null), upc=0083783375213, beerName=null, beerId=null, beerStyle=null, price=null, orderQuantity=3, quantityAllocated=null)], orderStatus=null, orderStatusCallbackUrl=null) 
2021-07-19T17:32:26,151 TRACE [pool-3-thread-1]: BeerOrderServiceImpl                 - Placing order from customer e89ec557-2b10-4132-acb0-24679b950ec0, with value BeerOrderDTO(super=BaseItem(id=null, version=null, createdDate=null, lastModifiedDate=null), customerId=e89ec557-2b10-4132-acb0-24679b950ec0, customerRef=389baf6c-910f-4bde-9a9f-35dc3a33370a, beerOrderLines=[BeerOrderLineDTO(super=BaseItem(id=null, version=null, createdDate=null, lastModifiedDate=null), upc=0083783375213, beerName=null, beerId=null, beerStyle=null, price=null, orderQuantity=3, quantityAllocated=null)], orderStatus=null, orderStatusCallbackUrl=null) 
2021-07-19T17:32:26,151 TRACE [pool-3-thread-1]: BeerOrderServiceImpl                 - Saved Beer Order: 12541394-3107-47a0-ab6a-e50dbefa0ce2 
2021-07-19T17:32:26,151 TRACE [pool-3-thread-1]: BeerServiceRestTemplateImpl          - Getting beer by upc - 0083783375213 
2021-07-19T17:32:26,151 ERROR [qtp1649127281-85]: WireMock                             - 
                                               Request was not matched
                                               =======================

-----------------------------------------------------------------------------------------------------------------------
| Closest stub                                             | Request                                                  |
-----------------------------------------------------------------------------------------------------------------------
                                                           |
GET                                                        | GET
/api/v1/beerUpc/12345                                      | /api/v1/beerUpc/0083783375213                       <<<<< URL does not match
                                                           |
                                                           |
-----------------------------------------------------------------------------------------------------------------------
 
2021-07-19T17:32:26,167 ERROR [pool-3-thread-1]: TaskUtils$LoggingErrorHandler        - Unexpected error occurred in scheduled task 
org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: [no body]
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:113) ~[spring-web-5.3.8.jar:5.3.8]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:186) ~[spring-web-5.3.8.jar:5.3.8]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:125) ~[spring-web-5.3.8.jar:5.3.8]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.8.jar:5.3.8]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.8.jar:5.3.8]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.8.jar:5.3.8]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.8.jar:5.3.8]
	at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:334) ~[spring-web-5.3.8.jar:5.3.8]
	at sfmc.beerorders.services.beer.implementation.BeerServiceRestTemplateImpl.getBeerByUpc(BeerServiceRestTemplateImpl.java:37) ~[classes/:?]
	at sfmc.beerorders.web.mappers.BeerOrderLineDecorator.beerOrderLineToDto(BeerOrderLineDecorator.java:26) ~[classes/:?]
	at sfmc.beerorders.web.mappers.BeerOrderMapperImpl.beerOrderLineSetToBeerOrderLineDTOList(BeerOrderMapperImpl.java:97) ~[classes/:?]
	at sfmc.beerorders.web.mappers.BeerOrderMapperImpl.beerOrderToDto(BeerOrderMapperImpl.java:46) ~[classes/:?]
	at sfmc.beerorders.services.implementations.BeerOrderServiceImpl.placeOrder(BeerOrderServiceImpl.java:84) ~[classes/:?]
	at sfmc.beerorders.services.implementations.BeerOrderServiceImpl$$FastClassBySpringCGLIB$$9e0fb320.invoke(<generated>) ~[classes/:?]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692) ~[spring-aop-5.3.8.jar:5.3.8]
	at sfmc.beerorders.services.implementations.BeerOrderServiceImpl$$EnhancerBySpringCGLIB$$c1d40a3e.placeOrder(<generated>) ~[classes/:?]
	at sfmc.beerorders.services.TastingRoomService.doPlaceOrder(TastingRoomService.java:70) ~[classes/:?]
	at sfmc.beerorders.services.TastingRoomService.placeTastingRoomOrder(TastingRoomService.java:45) ~[classes/:?]
	at sfmc.beerorders.services.TastingRoomService$$FastClassBySpringCGLIB$$a8003be2.invoke(<generated>) ~[classes/:?]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692) ~[spring-aop-5.3.8.jar:5.3.8]
	at sfmc.beerorders.services.TastingRoomService$$EnhancerBySpringCGLIB$$12182dc4.placeTastingRoomOrder(<generated>) ~[classes/:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:564) ~[?:?]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.8.jar:5.3.8]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) [spring-context-5.3.8.jar:5.3.8]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) [?:?]
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305) [?:?]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305) [?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) [?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) [?:?]
	at java.lang.Thread.run(Thread.java:832) [?:?]
2021-07-19T17:32:28,124 TRACE [pool-3-thread-1]: TastingRoomService                   - Placing tasting room order... 
2021-07-19T17:32:28,124 WARN  [pool-3-thread-1]: SqlExceptionHelper                   - SQL Error: 42102, SQLState: 42S02 
2021-07-19T17:32:28,124 ERROR [pool-3-thread-1]: SqlExceptionHelper                   - Table "CUSTOMER" not found; SQL statement:
select customer0_.id as id1_2_, customer0_.created_date as created_2_2_, customer0_.last_modified_date as last_mod3_2_, customer0_.version as version4_2_, customer0_.api_key as api_key5_2_, customer0_.customer_name as customer6_2_ from customer customer0_ where customer0_.customer_name like ? escape ? [42102-200] 
2021-07-19T17:32:28,124 ERROR [pool-3-thread-1]: TaskUtils$LoggingErrorHandler        - Unexpected error occurred in scheduled task 
org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement; SQL [select customer0_.id as id1_2_, customer0_.created_date as created_2_2_, customer0_.last_modified_date as last_mod3_2_, customer0_.version as version4_2_, customer0_.api_key as api_key5_2_, customer0_.customer_name as customer6_2_ from customer customer0_ where customer0_.customer_name like ? escape ?]; nested exception is org.hibernate.exception.SQLGrammarException: could not prepare statement
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259) ~[spring-orm-5.3.8.jar:5.3.8]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233) ~[spring-orm-5.3.8.jar:5.3.8]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.8.jar:5.3.8]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.5.2.jar:2.5.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.8.jar:5.3.8]
	at com.sun.proxy.$Proxy148.findAllByCustomerNameLike(Unknown Source) ~[?:?]
	at sfmc.beerorders.services.TastingRoomService.placeTastingRoomOrder(TastingRoomService.java:42) ~[classes/:?]
	at sfmc.beerorders.services.TastingRoomService$$FastClassBySpringCGLIB$$a8003be2.invoke(<generated>) ~[classes/:?]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692) ~[spring-aop-5.3.8.jar:5.3.8]
	at sfmc.beerorders.services.TastingRoomService$$EnhancerBySpringCGLIB$$12182dc4.placeTastingRoomOrder(<generated>) ~[classes/:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:564) ~[?:?]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.8.jar:5.3.8]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) [spring-context-5.3.8.jar:5.3.8]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) [?:?]
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305) [?:?]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305) [?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) [?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) [?:?]
	at java.lang.Thread.run(Thread.java:832) [?:?]
Caused by: org.hibernate.exception.SQLGrammarException: could not prepare statement
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:63) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:186) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:151) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:2097) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2034) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2012) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.doQuery(Loader.java:948) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:349) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2843) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2825) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2657) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.list(Loader.java:2652) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:506) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1414) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1636) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1604) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.query.Query.getResultList(Query.java:165) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:76) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:126) ~[spring-data-jpa-2.5.2.jar:2.5.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88) ~[spring-data-jpa-2.5.2.jar:2.5.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155) ~[spring-data-jpa-2.5.2.jar:2.5.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143) ~[spring-data-jpa-2.5.2.jar:2.5.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.5.2.jar:2.5.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.5.2.jar:2.5.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159) ~[spring-data-commons-2.5.2.jar:2.5.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.5.2.jar:2.5.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.5.2.jar:2.5.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.8.jar:5.3.8]
	... 32 more
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "CUSTOMER" not found; SQL statement:
select customer0_.id as id1_2_, customer0_.created_date as created_2_2_, customer0_.last_modified_date as last_mod3_2_, customer0_.version as version4_2_, customer0_.api_key as api_key5_2_, customer0_.customer_name as customer6_2_ from customer customer0_ where customer0_.customer_name like ? escape ? [42102-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:453) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.message.DbException.get(DbException.java:205) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.message.DbException.get(DbException.java:181) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.Parser.readTableOrView(Parser.java:7628) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.Parser.readTableFilter(Parser.java:1970) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.Parser.parseSelectFromPart(Parser.java:2827) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.Parser.parseSelect(Parser.java:2959) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.Parser.parseQuerySub(Parser.java:2817) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:2649) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.Parser.parseQuery(Parser.java:2620) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.Parser.parsePrepared(Parser.java:868) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.Parser.parse(Parser.java:843) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.Parser.parse(Parser.java:815) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.command.Parser.prepareCommand(Parser.java:738) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.engine.Session.prepareLocal(Session.java:657) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.engine.Session.prepareCommand(Session.java:595) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1235) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:76) ~[h2-1.4.200.jar:1.4.200]
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:352) ~[h2-1.4.200.jar:1.4.200]
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:337) ~[HikariCP-4.0.3.jar:?]
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java) ~[HikariCP-4.0.3.jar:?]
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:149) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:176) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:151) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:2097) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2034) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2012) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.doQuery(Loader.java:948) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:349) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2843) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2825) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2657) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.Loader.list(Loader.java:2652) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:506) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1414) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1636) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1604) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.query.Query.getResultList(Query.java:165) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:76) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:126) ~[spring-data-jpa-2.5.2.jar:2.5.2]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88) ~[spring-data-jpa-2.5.2.jar:2.5.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155) ~[spring-data-jpa-2.5.2.jar:2.5.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143) ~[spring-data-jpa-2.5.2.jar:2.5.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.5.2.jar:2.5.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.5.2.jar:2.5.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159) ~[spring-data-commons-2.5.2.jar:2.5.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.5.2.jar:2.5.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.5.2.jar:2.5.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.8.jar:5.3.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.8.jar:5.3.8]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.8.jar:5.3.8]
	... 32 more
2021-07-19T17:32:52,233 INFO  [main]: BeerOrderManagerImplIT               - Starting BeerOrderManagerImplIT using Java 15 on DESKTOP-QGJ7006 with PID 18216 (started by moldo in E:\Projects\JavaSpringCourse\BeerWorks\BeerOrderService) 
2021-07-19T17:32:52,233 DEBUG [main]: BeerOrderManagerImplIT               - Running with Spring Boot v2.5.2, Spring v5.3.8 
2021-07-19T17:32:52,233 INFO  [main]: BeerOrderManagerImplIT               - No active profile set, falling back to default profiles: default 
2021-07-19T17:32:57,047 WARN  [main]: aseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning 
2021-07-19T17:32:58,016 INFO  [main]: BeerOrderManagerImplIT               - Started BeerOrderManagerImplIT in 5.97 seconds (JVM running for 7.476) 
2021-07-19T17:32:58,225 TRACE [main]: DefaultBootstrap                     - Saved customer w/ id d01ffc78-a87c-4a80-9ce1-9d3f78839f83 
2021-07-19T17:32:58,537 TRACE [main]: ValidateOrderAction                  - Validation - Got id from message: 49810370-8c9d-4671-a849-aba97f405837 
2021-07-19T17:32:58,553 TRACE [main]: ValidateOrderAction                  - Validation - Got order from db: BeerOrder(super=BaseEntity(id=49810370-8c9d-4671-a849-aba97f405837, version=0, createdDate=2021-07-19 17:32:58.506, lastModifiedDate=2021-07-19 17:32:58.506), customerRef=null, customer=Customer(super=BaseEntity(id=b634c8e6-1e34-4ab1-8862-20fe1afd1f03, version=0, createdDate=2021-07-19 17:32:58.428, lastModifiedDate=2021-07-19 17:32:58.428), customerName=Test customer), orderStatus=NEW, orderStatusCallbackUrl=null) 
2021-07-19T17:32:58,568 TRACE [main]: BeerServiceRestTemplateImpl          - Getting beer by upc - 12345 
2021-07-19T17:32:58,819 TRACE [main]: BeerOrderStateChangeInterceptor      - saving state for order 49810370-8c9d-4671-a849-aba97f405837: PENDING_VALIDATION 
2021-07-19T17:32:58,835 TRACE [main]: StateMachineConfig                   - state changed from NEW to PENDING_VALIDATION 
2021-07-19T17:32:58,835 TRACE [org.springframework.jms.JmsListenerEndpointContainer#0-1]: OrderValidationListener              - Got event: ValidateOrderEvent(beerOrderDTO=BeerOrderDTO(super=BaseItem(id=49810370-8c9d-4671-a849-aba97f405837, version=0, createdDate=2021-07-19T17:32:58Z, lastModifiedDate=2021-07-19T17:32:58Z), customerId=b634c8e6-1e34-4ab1-8862-20fe1afd1f03, customerRef=null, beerOrderLines=[BeerOrderLineDTO(super=BaseItem(id=c3be8f96-68ce-4c29-b9ac-a8f3103b0f09, version=0, createdDate=2021-07-19T17:32:58Z, lastModifiedDate=2021-07-19T17:32:58Z), upc=12345, beerName=ALE, beerId=269cc7a0-335c-479e-9e2a-b262d8e07213, beerStyle=ALE, price=14.45, orderQuantity=1, quantityAllocated=0)], orderStatus=NEW, orderStatusCallbackUrl=null)) 
2021-07-19T17:32:58,850 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: ValidationResultListener             - Got result true for order 49810370-8c9d-4671-a849-aba97f405837 
2021-07-19T17:32:58,850 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: BeerOrderStateChangeInterceptor      - saving state for order 49810370-8c9d-4671-a849-aba97f405837: VALIDATED 
2021-07-19T17:32:58,850 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: StateMachineConfig                   - state changed from PENDING_VALIDATION to VALIDATED 
2021-07-19T17:32:58,850 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: AllocateOrderAction                  - Allocation - Got id from message: 49810370-8c9d-4671-a849-aba97f405837 
2021-07-19T17:32:58,850 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: AllocateOrderAction                  - Allocation - Got order from db: BeerOrder(super=BaseEntity(id=49810370-8c9d-4671-a849-aba97f405837, version=2, createdDate=2021-07-19 17:32:58.506, lastModifiedDate=2021-07-19 17:32:58.85), customerRef=null, customer=Customer(super=BaseEntity(id=b634c8e6-1e34-4ab1-8862-20fe1afd1f03, version=0, createdDate=2021-07-19 17:32:58.428, lastModifiedDate=2021-07-19 17:32:58.428), customerName=Test customer), orderStatus=VALIDATED, orderStatusCallbackUrl=null) 
2021-07-19T17:32:58,850 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: BeerServiceRestTemplateImpl          - Getting beer by upc - 12345 
2021-07-19T17:32:58,866 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: BeerOrderStateChangeInterceptor      - saving state for order 49810370-8c9d-4671-a849-aba97f405837: PENDING_ALLOCATION 
2021-07-19T17:32:58,866 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: StateMachineConfig                   - state changed from VALIDATED to PENDING_ALLOCATION 
2021-07-19T17:34:41,762 INFO  [main]: BeerOrderManagerImplIT               - Starting BeerOrderManagerImplIT using Java 15 on DESKTOP-QGJ7006 with PID 11004 (started by moldo in E:\Projects\JavaSpringCourse\BeerWorks\BeerOrderService) 
2021-07-19T17:34:41,772 DEBUG [main]: BeerOrderManagerImplIT               - Running with Spring Boot v2.5.2, Spring v5.3.8 
2021-07-19T17:34:41,772 INFO  [main]: BeerOrderManagerImplIT               - No active profile set, falling back to default profiles: default 
2021-07-19T17:34:46,870 WARN  [main]: aseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning 
2021-07-19T17:34:47,802 INFO  [main]: BeerOrderManagerImplIT               - Started BeerOrderManagerImplIT in 6.223 seconds (JVM running for 7.715) 
2021-07-19T17:34:48,018 TRACE [main]: DefaultBootstrap                     - Saved customer w/ id d10cdf60-31df-4e26-a109-ccae44cf9777 
2021-07-19T17:34:48,315 TRACE [main]: ValidateOrderAction                  - Validation - Got id from message: 1d680670-59e6-4044-9c0d-7424b0635e62 
2021-07-19T17:34:48,330 TRACE [main]: ValidateOrderAction                  - Validation - Got order from db: BeerOrder(super=BaseEntity(id=1d680670-59e6-4044-9c0d-7424b0635e62, version=0, createdDate=null, lastModifiedDate=null), customerRef=null, customer=Customer(super=BaseEntity(id=3a05693f-05a8-4569-8de8-65f8c2c34df9, version=0, createdDate=2021-07-19 17:34:48.205, lastModifiedDate=2021-07-19 17:34:48.205), customerName=Test customer), orderStatus=NEW, orderStatusCallbackUrl=null) 
2021-07-19T17:34:48,330 TRACE [main]: BeerServiceRestTemplateImpl          - Getting beer by upc - 12345 
2021-07-19T17:34:48,629 TRACE [main]: BeerOrderStateChangeInterceptor      - saving state for order 1d680670-59e6-4044-9c0d-7424b0635e62: PENDING_VALIDATION 
2021-07-19T17:34:48,629 TRACE [org.springframework.jms.JmsListenerEndpointContainer#0-1]: OrderValidationListener              - Got event: ValidateOrderEvent(beerOrderDTO=BeerOrderDTO(super=BaseItem(id=1d680670-59e6-4044-9c0d-7424b0635e62, version=0, createdDate=null, lastModifiedDate=null), customerId=3a05693f-05a8-4569-8de8-65f8c2c34df9, customerRef=null, beerOrderLines=[BeerOrderLineDTO(super=BaseItem(id=f60627d9-f3d0-41ed-98a2-08af093fcce5, version=0, createdDate=null, lastModifiedDate=null), upc=12345, beerName=ALE, beerId=5a6bfa31-c9e5-4e85-bc72-5e85b61003b9, beerStyle=ALE, price=14.45, orderQuantity=1, quantityAllocated=0)], orderStatus=NEW, orderStatusCallbackUrl=null)) 
2021-07-19T17:34:48,644 TRACE [main]: StateMachineConfig                   - state changed from NEW to PENDING_VALIDATION 
2021-07-19T17:34:48,660 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: ValidationResultListener             - Got result true for order 1d680670-59e6-4044-9c0d-7424b0635e62 
2021-07-19T17:34:48,675 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: BeerOrderStateChangeInterceptor      - saving state for order 1d680670-59e6-4044-9c0d-7424b0635e62: VALIDATED 
2021-07-19T17:34:48,675 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: StateMachineConfig                   - state changed from PENDING_VALIDATION to VALIDATED 
2021-07-19T17:34:48,675 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: AllocateOrderAction                  - Allocation - Got id from message: 1d680670-59e6-4044-9c0d-7424b0635e62 
2021-07-19T17:34:48,691 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: AllocateOrderAction                  - Allocation - Got order from db: BeerOrder(super=BaseEntity(id=1d680670-59e6-4044-9c0d-7424b0635e62, version=2, createdDate=2021-07-19 17:34:48.629, lastModifiedDate=2021-07-19 17:34:48.675), customerRef=null, customer=Customer(super=BaseEntity(id=3a05693f-05a8-4569-8de8-65f8c2c34df9, version=0, createdDate=2021-07-19 17:34:48.205, lastModifiedDate=2021-07-19 17:34:48.205), customerName=Test customer), orderStatus=VALIDATED, orderStatusCallbackUrl=null) 
2021-07-19T17:34:48,691 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: BeerServiceRestTemplateImpl          - Getting beer by upc - 12345 
2021-07-19T17:34:48,691 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: BeerOrderStateChangeInterceptor      - saving state for order 1d680670-59e6-4044-9c0d-7424b0635e62: PENDING_ALLOCATION 
2021-07-19T17:34:48,691 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: StateMachineConfig                   - state changed from VALIDATED to PENDING_ALLOCATION 
2021-07-19T17:36:20,284 INFO  [main]: BeerOrderManagerImplIT               - Starting BeerOrderManagerImplIT using Java 15 on DESKTOP-QGJ7006 with PID 15760 (started by moldo in E:\Projects\JavaSpringCourse\BeerWorks\BeerOrderService) 
2021-07-19T17:36:20,292 DEBUG [main]: BeerOrderManagerImplIT               - Running with Spring Boot v2.5.2, Spring v5.3.8 
2021-07-19T17:36:20,292 INFO  [main]: BeerOrderManagerImplIT               - No active profile set, falling back to default profiles: default 
2021-07-19T17:36:24,936 WARN  [main]: aseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning 
2021-07-19T17:36:25,886 INFO  [main]: BeerOrderManagerImplIT               - Started BeerOrderManagerImplIT in 5.788 seconds (JVM running for 7.259) 
2021-07-19T17:36:26,091 TRACE [main]: DefaultBootstrap                     - Saved customer w/ id d786112d-4daf-4d52-b369-2fd47db00fd2 
2021-07-19T17:36:26,367 TRACE [main]: ValidateOrderAction                  - Validation - Got id from message: 2b91bd38-64eb-41bb-a07f-1dead893ba0a 
2021-07-19T17:36:26,367 TRACE [main]: ValidateOrderAction                  - Validation - Got order from db: BeerOrder(super=BaseEntity(id=2b91bd38-64eb-41bb-a07f-1dead893ba0a, version=0, createdDate=null, lastModifiedDate=null), customerRef=null, customer=Customer(super=BaseEntity(id=247561fb-1da7-4b0b-b9fc-b032c9b5279e, version=0, createdDate=2021-07-19 17:36:26.279, lastModifiedDate=2021-07-19 17:36:26.279), customerName=Test customer), orderStatus=NEW, orderStatusCallbackUrl=null) 
2021-07-19T17:36:26,382 TRACE [main]: BeerServiceRestTemplateImpl          - Getting beer by upc - 12345 
2021-07-19T17:36:26,701 TRACE [main]: BeerOrderStateChangeInterceptor      - saving state for order 2b91bd38-64eb-41bb-a07f-1dead893ba0a: PENDING_VALIDATION 
2021-07-19T17:36:26,716 TRACE [main]: StateMachineConfig                   - state changed from NEW to PENDING_VALIDATION 
2021-07-19T17:36:26,716 TRACE [org.springframework.jms.JmsListenerEndpointContainer#0-1]: OrderValidationListener              - Got event: ValidateOrderEvent(beerOrderDTO=BeerOrderDTO(super=BaseItem(id=2b91bd38-64eb-41bb-a07f-1dead893ba0a, version=0, createdDate=null, lastModifiedDate=null), customerId=247561fb-1da7-4b0b-b9fc-b032c9b5279e, customerRef=null, beerOrderLines=[BeerOrderLineDTO(super=BaseItem(id=949c1d43-303c-4639-8b69-f31826bc4f1d, version=0, createdDate=null, lastModifiedDate=null), upc=12345, beerName=ALE, beerId=714f08fa-dff9-45e1-9806-69e6483a3f8b, beerStyle=ALE, price=14.45, orderQuantity=1, quantityAllocated=0)], orderStatus=NEW, orderStatusCallbackUrl=null)) 
2021-07-19T17:36:26,734 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: ValidationResultListener             - Got result true for order 2b91bd38-64eb-41bb-a07f-1dead893ba0a 
2021-07-19T17:36:26,750 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: BeerOrderStateChangeInterceptor      - saving state for order 2b91bd38-64eb-41bb-a07f-1dead893ba0a: VALIDATED 
2021-07-19T17:36:26,750 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: StateMachineConfig                   - state changed from PENDING_VALIDATION to VALIDATED 
2021-07-19T17:36:26,750 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: AllocateOrderAction                  - Allocation - Got id from message: 2b91bd38-64eb-41bb-a07f-1dead893ba0a 
2021-07-19T17:36:26,750 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: AllocateOrderAction                  - Allocation - Got order from db: BeerOrder(super=BaseEntity(id=2b91bd38-64eb-41bb-a07f-1dead893ba0a, version=2, createdDate=2021-07-19 17:36:26.716, lastModifiedDate=2021-07-19 17:36:26.75), customerRef=null, customer=Customer(super=BaseEntity(id=247561fb-1da7-4b0b-b9fc-b032c9b5279e, version=0, createdDate=2021-07-19 17:36:26.279, lastModifiedDate=2021-07-19 17:36:26.279), customerName=Test customer), orderStatus=VALIDATED, orderStatusCallbackUrl=null) 
2021-07-19T17:36:26,750 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: BeerServiceRestTemplateImpl          - Getting beer by upc - 12345 
2021-07-19T17:36:26,765 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: BeerOrderStateChangeInterceptor      - saving state for order 2b91bd38-64eb-41bb-a07f-1dead893ba0a: PENDING_ALLOCATION 
2021-07-19T17:36:26,765 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: StateMachineConfig                   - state changed from VALIDATED to PENDING_ALLOCATION 
2021-07-19T17:36:30,016 WARN  [SpringApplicationShutdownHook]: SqlExceptionHelper                   - SQL Error: 90121, SQLState: 90121 
2021-07-19T17:36:30,016 ERROR [SpringApplicationShutdownHook]: SqlExceptionHelper                   - Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200] 
2021-07-19T17:36:30,016 WARN  [SpringApplicationShutdownHook]: SqlExceptionHelper                   - SQL Error: 90121, SQLState: 90121 
2021-07-19T17:36:30,016 ERROR [SpringApplicationShutdownHook]: SqlExceptionHelper                   - Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200] 
2021-07-19T17:36:30,016 WARN  [SpringApplicationShutdownHook]: DisposableBeanAdapter                - Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection used for DDL execution 
2021-07-19T17:52:31,403 INFO  [main]: BeerOrderManagerImplIT               - Starting BeerOrderManagerImplIT using Java 15 on DESKTOP-QGJ7006 with PID 13636 (started by moldo in E:\Projects\JavaSpringCourse\BeerWorks\BeerOrderService) 
2021-07-19T17:52:31,411 DEBUG [main]: BeerOrderManagerImplIT               - Running with Spring Boot v2.5.2, Spring v5.3.8 
2021-07-19T17:52:31,411 INFO  [main]: BeerOrderManagerImplIT               - No active profile set, falling back to default profiles: default 
2021-07-19T17:52:36,043 WARN  [main]: aseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning 
2021-07-19T17:52:36,967 INFO  [main]: BeerOrderManagerImplIT               - Started BeerOrderManagerImplIT in 5.758 seconds (JVM running for 7.434) 
2021-07-19T17:52:37,227 TRACE [main]: DefaultBootstrap                     - Saved customer w/ id 81d48d84-0801-4804-9a24-a1db2efa018e 
2021-07-19T17:52:37,618 TRACE [main]: ValidateOrderAction                  - Validation - Got id from message: aedab6ba-766c-4e1b-82b5-def890393ab3 
2021-07-19T17:52:37,634 TRACE [main]: ValidateOrderAction                  - Validation - Got order from db: BeerOrder(super=BaseEntity(id=aedab6ba-766c-4e1b-82b5-def890393ab3, version=0, createdDate=null, lastModifiedDate=null), customerRef=null, customer=Customer(super=BaseEntity(id=20f1e109-4700-4eb2-977d-5fb1e6f04167, version=0, createdDate=2021-07-19 17:52:37.524, lastModifiedDate=2021-07-19 17:52:37.524), customerName=Test customer), orderStatus=NEW, orderStatusCallbackUrl=null) 
2021-07-19T17:52:37,634 TRACE [main]: BeerServiceRestTemplateImpl          - Getting beer by upc - 12345 
2021-07-19T17:52:37,911 TRACE [main]: BeerOrderStateChangeInterceptor      - saving state for order aedab6ba-766c-4e1b-82b5-def890393ab3: PENDING_VALIDATION 
2021-07-19T17:52:37,927 TRACE [main]: StateMachineConfig                   - state changed from NEW to PENDING_VALIDATION 
2021-07-19T17:52:37,927 TRACE [org.springframework.jms.JmsListenerEndpointContainer#1-1]: OrderValidationListener              - Got event: ValidateOrderEvent(beerOrderDTO=BeerOrderDTO(super=BaseItem(id=aedab6ba-766c-4e1b-82b5-def890393ab3, version=0, createdDate=null, lastModifiedDate=null), customerId=20f1e109-4700-4eb2-977d-5fb1e6f04167, customerRef=null, beerOrderLines=[BeerOrderLineDTO(super=BaseItem(id=763f82ac-7adb-4f78-9ef1-b5f6fb5037a2, version=0, createdDate=null, lastModifiedDate=null), upc=12345, beerName=ALE, beerId=6ab8bf85-6bc2-4269-bc46-2fe46348ee0e, beerStyle=ALE, price=14.45, orderQuantity=1, quantityAllocated=0)], orderStatus=NEW, orderStatusCallbackUrl=null)) 
2021-07-19T17:52:37,942 TRACE [org.springframework.jms.JmsListenerEndpointContainer#3-1]: ValidationResultListener             - Got result true for order aedab6ba-766c-4e1b-82b5-def890393ab3 
2021-07-19T17:52:37,957 TRACE [org.springframework.jms.JmsListenerEndpointContainer#3-1]: BeerOrderStateChangeInterceptor      - saving state for order aedab6ba-766c-4e1b-82b5-def890393ab3: VALIDATED 
2021-07-19T17:52:37,957 TRACE [org.springframework.jms.JmsListenerEndpointContainer#3-1]: StateMachineConfig                   - state changed from PENDING_VALIDATION to VALIDATED 
2021-07-19T17:52:37,957 TRACE [org.springframework.jms.JmsListenerEndpointContainer#3-1]: AllocateOrderAction                  - Allocation - Got id from message: aedab6ba-766c-4e1b-82b5-def890393ab3 
2021-07-19T17:52:37,957 TRACE [org.springframework.jms.JmsListenerEndpointContainer#3-1]: AllocateOrderAction                  - Allocation - Got order from db: BeerOrder(super=BaseEntity(id=aedab6ba-766c-4e1b-82b5-def890393ab3, version=2, createdDate=2021-07-19 17:52:37.927, lastModifiedDate=2021-07-19 17:52:37.957), customerRef=null, customer=Customer(super=BaseEntity(id=20f1e109-4700-4eb2-977d-5fb1e6f04167, version=0, createdDate=2021-07-19 17:52:37.524, lastModifiedDate=2021-07-19 17:52:37.524), customerName=Test customer), orderStatus=VALIDATED, orderStatusCallbackUrl=null) 
2021-07-19T17:52:37,957 TRACE [org.springframework.jms.JmsListenerEndpointContainer#3-1]: BeerServiceRestTemplateImpl          - Getting beer by upc - 12345 
2021-07-19T17:52:37,973 TRACE [org.springframework.jms.JmsListenerEndpointContainer#3-1]: BeerOrderStateChangeInterceptor      - saving state for order aedab6ba-766c-4e1b-82b5-def890393ab3: PENDING_ALLOCATION 
2021-07-19T17:52:37,973 TRACE [org.springframework.jms.JmsListenerEndpointContainer#3-1]: StateMachineConfig                   - state changed from VALIDATED to PENDING_ALLOCATION 
2021-07-19T17:52:37,973 TRACE [org.springframework.jms.JmsListenerEndpointContainer#0-1]: OrderAllocationListener              - Got event: AllocateOrderEvent(beerOrderDTO=BeerOrderDTO(super=BaseItem(id=aedab6ba-766c-4e1b-82b5-def890393ab3, version=2, createdDate=2021-07-19T17:52:37Z, lastModifiedDate=2021-07-19T17:52:37Z), customerId=20f1e109-4700-4eb2-977d-5fb1e6f04167, customerRef=null, beerOrderLines=[BeerOrderLineDTO(super=BaseItem(id=763f82ac-7adb-4f78-9ef1-b5f6fb5037a2, version=0, createdDate=2021-07-19T17:52:37Z, lastModifiedDate=2021-07-19T17:52:37Z), upc=12345, beerName=ALE, beerId=6ab8bf85-6bc2-4269-bc46-2fe46348ee0e, beerStyle=ALE, price=14.45, orderQuantity=1, quantityAllocated=0)], orderStatus=VALIDATED, orderStatusCallbackUrl=null)) 
2021-07-19T17:52:37,973 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: AllocationResultListener             - Error: false, Pending: false, Order: BeerOrderDTO(super=BaseItem(id=aedab6ba-766c-4e1b-82b5-def890393ab3, version=2, createdDate=2021-07-19T17:52:37Z, lastModifiedDate=2021-07-19T17:52:37Z), customerId=20f1e109-4700-4eb2-977d-5fb1e6f04167, customerRef=null, beerOrderLines=[BeerOrderLineDTO(super=BaseItem(id=763f82ac-7adb-4f78-9ef1-b5f6fb5037a2, version=0, createdDate=2021-07-19T17:52:37Z, lastModifiedDate=2021-07-19T17:52:37Z), upc=12345, beerName=ALE, beerId=6ab8bf85-6bc2-4269-bc46-2fe46348ee0e, beerStyle=ALE, price=14.45, orderQuantity=1, quantityAllocated=0)], orderStatus=VALIDATED, orderStatusCallbackUrl=null) 
2021-07-19T17:52:37,989 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: BeerOrderStateChangeInterceptor      - saving state for order aedab6ba-766c-4e1b-82b5-def890393ab3: ALLOCATED 
2021-07-19T17:52:37,989 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: StateMachineConfig                   - state changed from PENDING_ALLOCATION to ALLOCATED 
2021-07-19T18:05:07,905 INFO  [main]: BeerOrderManagerImplIT               - Starting BeerOrderManagerImplIT using Java 15 on DESKTOP-QGJ7006 with PID 8060 (started by moldo in E:\Projects\JavaSpringCourse\BeerWorks\BeerOrderService) 
2021-07-19T18:05:07,905 DEBUG [main]: BeerOrderManagerImplIT               - Running with Spring Boot v2.5.2, Spring v5.3.8 
2021-07-19T18:05:07,905 INFO  [main]: BeerOrderManagerImplIT               - No active profile set, falling back to default profiles: default 
2021-07-19T18:05:12,548 WARN  [main]: aseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning 
2021-07-19T18:05:13,455 INFO  [main]: BeerOrderManagerImplIT               - Started BeerOrderManagerImplIT in 5.748 seconds (JVM running for 7.131) 
2021-07-19T18:05:13,728 TRACE [main]: DefaultBootstrap                     - Saved customer w/ id 97c57fe6-e728-49c6-93b0-3ef4f2f5f8a7 
2021-07-19T18:05:14,025 TRACE [main]: ValidateOrderAction                  - Validation - Got id from message: b67f70e5-ad2c-4cb9-afef-e1b1722faeac 
2021-07-19T18:05:14,025 TRACE [main]: ValidateOrderAction                  - Validation - Got order from db: BeerOrder(super=BaseEntity(id=b67f70e5-ad2c-4cb9-afef-e1b1722faeac, version=0, createdDate=null, lastModifiedDate=null), customerRef=null, customer=Customer(super=BaseEntity(id=0fd6ac02-0623-4747-8b65-b80e8436da0a, version=0, createdDate=2021-07-19 18:05:13.916, lastModifiedDate=2021-07-19 18:05:13.916), customerName=Test customer), orderStatus=NEW, orderStatusCallbackUrl=null) 
2021-07-19T18:05:14,025 TRACE [main]: BeerServiceRestTemplateImpl          - Getting beer by upc - 12345 
2021-07-19T18:05:14,317 TRACE [main]: BeerOrderStateChangeInterceptor      - saving state for order b67f70e5-ad2c-4cb9-afef-e1b1722faeac: PENDING_VALIDATION 
2021-07-19T18:05:14,333 TRACE [main]: StateMachineConfig                   - state changed from NEW to PENDING_VALIDATION 
2021-07-19T18:05:14,317 TRACE [org.springframework.jms.JmsListenerEndpointContainer#1-1]: OrderValidationListener              - Got event: ValidateOrderEvent(beerOrderDTO=BeerOrderDTO(super=BaseItem(id=b67f70e5-ad2c-4cb9-afef-e1b1722faeac, version=0, createdDate=null, lastModifiedDate=null), customerId=0fd6ac02-0623-4747-8b65-b80e8436da0a, customerRef=null, beerOrderLines=[BeerOrderLineDTO(super=BaseItem(id=9103fd41-8d24-4519-87df-a965b0cb5f2c, version=0, createdDate=null, lastModifiedDate=null), upc=12345, beerName=ALE, beerId=dad75ce5-e58c-48de-aea8-92311b76b6f1, beerStyle=ALE, price=14.45, orderQuantity=1, quantityAllocated=0)], orderStatus=NEW, orderStatusCallbackUrl=null)) 
2021-07-19T18:05:14,333 TRACE [org.springframework.jms.JmsListenerEndpointContainer#3-1]: ValidationResultListener             - Got result true for order b67f70e5-ad2c-4cb9-afef-e1b1722faeac 
2021-07-19T18:05:14,348 TRACE [org.springframework.jms.JmsListenerEndpointContainer#3-1]: BeerOrderStateChangeInterceptor      - saving state for order b67f70e5-ad2c-4cb9-afef-e1b1722faeac: VALIDATED 
2021-07-19T18:05:14,364 TRACE [org.springframework.jms.JmsListenerEndpointContainer#3-1]: StateMachineConfig                   - state changed from PENDING_VALIDATION to VALIDATED 
2021-07-19T18:05:14,364 TRACE [org.springframework.jms.JmsListenerEndpointContainer#3-1]: AllocateOrderAction                  - Allocation - Got id from message: b67f70e5-ad2c-4cb9-afef-e1b1722faeac 
2021-07-19T18:05:14,364 TRACE [org.springframework.jms.JmsListenerEndpointContainer#3-1]: AllocateOrderAction                  - Allocation - Got order from db: BeerOrder(super=BaseEntity(id=b67f70e5-ad2c-4cb9-afef-e1b1722faeac, version=2, createdDate=2021-07-19 18:05:14.317, lastModifiedDate=2021-07-19 18:05:14.364), customerRef=null, customer=Customer(super=BaseEntity(id=0fd6ac02-0623-4747-8b65-b80e8436da0a, version=0, createdDate=2021-07-19 18:05:13.916, lastModifiedDate=2021-07-19 18:05:13.916), customerName=Test customer), orderStatus=VALIDATED, orderStatusCallbackUrl=null) 
2021-07-19T18:05:14,364 TRACE [org.springframework.jms.JmsListenerEndpointContainer#3-1]: BeerServiceRestTemplateImpl          - Getting beer by upc - 12345 
2021-07-19T18:05:14,380 TRACE [org.springframework.jms.JmsListenerEndpointContainer#3-1]: BeerOrderStateChangeInterceptor      - saving state for order b67f70e5-ad2c-4cb9-afef-e1b1722faeac: PENDING_ALLOCATION 
2021-07-19T18:05:14,380 TRACE [org.springframework.jms.JmsListenerEndpointContainer#3-1]: StateMachineConfig                   - state changed from VALIDATED to PENDING_ALLOCATION 
2021-07-19T18:05:14,380 TRACE [org.springframework.jms.JmsListenerEndpointContainer#0-1]: OrderAllocationListener              - Got event: AllocateOrderEvent(beerOrderDTO=BeerOrderDTO(super=BaseItem(id=b67f70e5-ad2c-4cb9-afef-e1b1722faeac, version=2, createdDate=2021-07-19T18:05:14Z, lastModifiedDate=2021-07-19T18:05:14Z), customerId=0fd6ac02-0623-4747-8b65-b80e8436da0a, customerRef=null, beerOrderLines=[BeerOrderLineDTO(super=BaseItem(id=9103fd41-8d24-4519-87df-a965b0cb5f2c, version=0, createdDate=2021-07-19T18:05:14Z, lastModifiedDate=2021-07-19T18:05:14Z), upc=12345, beerName=ALE, beerId=dad75ce5-e58c-48de-aea8-92311b76b6f1, beerStyle=ALE, price=14.45, orderQuantity=1, quantityAllocated=0)], orderStatus=VALIDATED, orderStatusCallbackUrl=null)) 
2021-07-19T18:05:14,380 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: AllocationResultListener             - Error: false, Pending: false, Order: BeerOrderDTO(super=BaseItem(id=b67f70e5-ad2c-4cb9-afef-e1b1722faeac, version=2, createdDate=2021-07-19T18:05:14Z, lastModifiedDate=2021-07-19T18:05:14Z), customerId=0fd6ac02-0623-4747-8b65-b80e8436da0a, customerRef=null, beerOrderLines=[BeerOrderLineDTO(super=BaseItem(id=9103fd41-8d24-4519-87df-a965b0cb5f2c, version=0, createdDate=2021-07-19T18:05:14Z, lastModifiedDate=2021-07-19T18:05:14Z), upc=12345, beerName=ALE, beerId=dad75ce5-e58c-48de-aea8-92311b76b6f1, beerStyle=ALE, price=14.45, orderQuantity=1, quantityAllocated=1)], orderStatus=VALIDATED, orderStatusCallbackUrl=null) 
2021-07-19T18:05:14,395 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: BeerOrderStateChangeInterceptor      - saving state for order b67f70e5-ad2c-4cb9-afef-e1b1722faeac: ALLOCATED 
2021-07-19T18:05:14,395 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: StateMachineConfig                   - state changed from PENDING_ALLOCATION to ALLOCATED 
2021-07-19T20:24:24,538 INFO  [main]: BeerOrderManagerImplIT               - Starting BeerOrderManagerImplIT using Java 15 on DESKTOP-QGJ7006 with PID 8588 (started by moldo in E:\Projects\JavaSpringCourse\BeerWorks\BeerOrderService) 
2021-07-19T20:24:24,546 DEBUG [main]: BeerOrderManagerImplIT               - Running with Spring Boot v2.5.2, Spring v5.3.8 
2021-07-19T20:24:24,548 INFO  [main]: BeerOrderManagerImplIT               - No active profile set, falling back to default profiles: default 
2021-07-19T20:24:29,437 WARN  [main]: aseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning 
2021-07-19T20:24:30,283 INFO  [main]: BeerOrderManagerImplIT               - Started BeerOrderManagerImplIT in 5.958 seconds (JVM running for 7.649) 
2021-07-19T20:24:31,124 TRACE [main]: DefaultBootstrap                     - Saved customer w/ id e70c2af4-ea37-4b67-8f76-37680003c7e2 
2021-07-19T20:24:31,449 TRACE [main]: ValidateOrderAction                  - Validation - Got id from message: 2e8229fd-bf5d-4a6e-b877-ccd23bee18bb 
2021-07-19T20:24:31,458 TRACE [main]: ValidateOrderAction                  - Validation - Got order from db: BeerOrder(super=BaseEntity(id=2e8229fd-bf5d-4a6e-b877-ccd23bee18bb, version=0, createdDate=null, lastModifiedDate=null), customerRef=null, customer=Customer(super=BaseEntity(id=ccee2fde-b0a5-4c5f-ba24-c37923dc741b, version=0, createdDate=2021-07-19 20:24:31.34, lastModifiedDate=2021-07-19 20:24:31.34), customerName=Test customer), orderStatus=NEW, orderStatusCallbackUrl=null) 
2021-07-19T20:24:31,465 TRACE [main]: BeerServiceRestTemplateImpl          - Getting beer by upc - 12345 
2021-07-19T20:24:31,778 TRACE [main]: BeerOrderStateChangeInterceptor      - saving state for order 2e8229fd-bf5d-4a6e-b877-ccd23bee18bb: PENDING_VALIDATION 
2021-07-19T20:24:31,794 TRACE [main]: StateMachineConfig                   - state changed from NEW to PENDING_VALIDATION 
2021-07-19T20:24:31,788 TRACE [org.springframework.jms.JmsListenerEndpointContainer#1-1]: OrderValidationListener              - Got event: ValidateOrderEvent(beerOrderDTO=BeerOrderDTO(super=BaseItem(id=2e8229fd-bf5d-4a6e-b877-ccd23bee18bb, version=0, createdDate=null, lastModifiedDate=null), customerId=ccee2fde-b0a5-4c5f-ba24-c37923dc741b, customerRef=null, beerOrderLines=[BeerOrderLineDTO(super=BaseItem(id=86f4ba4c-0c11-4573-9e2d-72bf79516e25, version=0, createdDate=null, lastModifiedDate=null), upc=12345, beerName=ALE, beerId=560d5e11-7482-4759-a635-2f4d98fb94df, beerStyle=ALE, price=14.45, orderQuantity=1, quantityAllocated=0)], orderStatus=NEW, orderStatusCallbackUrl=null)) 
2021-07-19T20:24:31,806 TRACE [org.springframework.jms.JmsListenerEndpointContainer#3-1]: ValidationResultListener             - Got result true for order 2e8229fd-bf5d-4a6e-b877-ccd23bee18bb 
2021-07-19T20:24:31,822 TRACE [org.springframework.jms.JmsListenerEndpointContainer#3-1]: BeerOrderStateChangeInterceptor      - saving state for order 2e8229fd-bf5d-4a6e-b877-ccd23bee18bb: VALIDATED 
2021-07-19T20:24:31,823 TRACE [org.springframework.jms.JmsListenerEndpointContainer#3-1]: StateMachineConfig                   - state changed from PENDING_VALIDATION to VALIDATED 
2021-07-19T20:24:31,825 TRACE [org.springframework.jms.JmsListenerEndpointContainer#3-1]: AllocateOrderAction                  - Allocation - Got id from message: 2e8229fd-bf5d-4a6e-b877-ccd23bee18bb 
2021-07-19T20:24:31,825 TRACE [org.springframework.jms.JmsListenerEndpointContainer#3-1]: AllocateOrderAction                  - Allocation - Got order from db: BeerOrder(super=BaseEntity(id=2e8229fd-bf5d-4a6e-b877-ccd23bee18bb, version=2, createdDate=2021-07-19 20:24:31.786, lastModifiedDate=2021-07-19 20:24:31.823), customerRef=null, customer=Customer(super=BaseEntity(id=ccee2fde-b0a5-4c5f-ba24-c37923dc741b, version=0, createdDate=2021-07-19 20:24:31.34, lastModifiedDate=2021-07-19 20:24:31.34), customerName=Test customer), orderStatus=VALIDATED, orderStatusCallbackUrl=null) 
2021-07-19T20:24:31,826 TRACE [org.springframework.jms.JmsListenerEndpointContainer#3-1]: BeerServiceRestTemplateImpl          - Getting beer by upc - 12345 
2021-07-19T20:24:31,834 TRACE [org.springframework.jms.JmsListenerEndpointContainer#3-1]: BeerOrderStateChangeInterceptor      - saving state for order 2e8229fd-bf5d-4a6e-b877-ccd23bee18bb: PENDING_ALLOCATION 
2021-07-19T20:24:31,836 TRACE [org.springframework.jms.JmsListenerEndpointContainer#3-1]: StateMachineConfig                   - state changed from VALIDATED to PENDING_ALLOCATION 
2021-07-19T20:24:31,840 TRACE [org.springframework.jms.JmsListenerEndpointContainer#0-1]: OrderAllocationListener              - Got event: AllocateOrderEvent(beerOrderDTO=BeerOrderDTO(super=BaseItem(id=2e8229fd-bf5d-4a6e-b877-ccd23bee18bb, version=2, createdDate=2021-07-19T20:24:31Z, lastModifiedDate=2021-07-19T20:24:31Z), customerId=ccee2fde-b0a5-4c5f-ba24-c37923dc741b, customerRef=null, beerOrderLines=[BeerOrderLineDTO(super=BaseItem(id=86f4ba4c-0c11-4573-9e2d-72bf79516e25, version=0, createdDate=2021-07-19T20:24:31Z, lastModifiedDate=2021-07-19T20:24:31Z), upc=12345, beerName=ALE, beerId=560d5e11-7482-4759-a635-2f4d98fb94df, beerStyle=ALE, price=14.45, orderQuantity=1, quantityAllocated=0)], orderStatus=VALIDATED, orderStatusCallbackUrl=null)) 
2021-07-19T20:24:31,846 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: AllocationResultListener             - Error: false, Pending: false, Order: BeerOrderDTO(super=BaseItem(id=2e8229fd-bf5d-4a6e-b877-ccd23bee18bb, version=2, createdDate=2021-07-19T20:24:31Z, lastModifiedDate=2021-07-19T20:24:31Z), customerId=ccee2fde-b0a5-4c5f-ba24-c37923dc741b, customerRef=null, beerOrderLines=[BeerOrderLineDTO(super=BaseItem(id=86f4ba4c-0c11-4573-9e2d-72bf79516e25, version=0, createdDate=2021-07-19T20:24:31Z, lastModifiedDate=2021-07-19T20:24:31Z), upc=12345, beerName=ALE, beerId=560d5e11-7482-4759-a635-2f4d98fb94df, beerStyle=ALE, price=14.45, orderQuantity=1, quantityAllocated=1)], orderStatus=VALIDATED, orderStatusCallbackUrl=null) 
2021-07-19T20:24:31,850 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: BeerOrderStateChangeInterceptor      - saving state for order 2e8229fd-bf5d-4a6e-b877-ccd23bee18bb: ALLOCATED 
2021-07-19T20:24:31,852 TRACE [org.springframework.jms.JmsListenerEndpointContainer#2-1]: StateMachineConfig                   - state changed from PENDING_ALLOCATION to ALLOCATED 
2021-07-19T20:24:31,926 TRACE [main]: BeerOrderStateChangeInterceptor      - saving state for order 2e8229fd-bf5d-4a6e-b877-ccd23bee18bb: PICKED_UP 
2021-07-19T20:24:31,928 TRACE [main]: StateMachineConfig                   - state changed from ALLOCATED to PICKED_UP 
